

<h1 class="title">Tutoriel Ruby on Rails </h1>


<h1 class="subtitle">  Apprendre Rails par l'exemple</h1>


<h2 class="author">Michael Hartl</h2>



<h1 class="contents">Contenu</h1>


<div id="table_of_contents"><ol>
<li class="chapter"><a href="beginning#top"><span class="number">Chapitre 1</span> De zéro au déploiement</a></li>
<li><ol>
<li class="section"><a href="beginning#sec:introduction"><span class="number">1.1</span> Introduction</a></li>
<li><ol>
<li class="subsection"><a href="beginning#sec:comments_for_various_readers"><span class="number">1.1.1</span> Commentaires pour les lecteurs différents</a></li>
<li class="subsection"><a href="beginning#sec:1.1.2"><span class="number">1.1.2</span> &ldquo;Dimensionner&rdquo; Rails</a></li>
<li class="subsection"><a href="beginning#sec:conventions"><span class="number">1.1.3</span> Conventions utilisées dans ce livre</a></li></ol></li>
<li class="section"><a href="beginning#sec:up_and_running"><span class="number">1.2</span> [(Up and running)]</a></li>
<li><ol>
<li class="subsection"><a href="beginning#sec:development_tools"><span class="number">1.2.1</span> Environnements de développement</a></li>
<li><ol>
<li class="subsubsection"><a href="beginning#sec:1.2.1.1">IDEs</a></li>
<li class="subsubsection"><a href="beginning#sec:1.2.1.2">Éditeurs de texte et lignes de commande</a></li>
<li class="subsubsection"><a href="beginning#sec:1.2.1.3">Navigateurs</a></li>
<li class="subsubsection"><a href="beginning#sec:1.2.1.4">Note à propos des outils</a></li></ol></li>
<li class="subsection"><a href="beginning#sec:rubygems"><span class="number">1.2.2</span> Ruby, RubyGems, Rails, et Git</a></li>
<li><ol>
<li class="subsubsection"><a href="beginning#sec:rails_installer_windows">Installation de Rails (Windows)</a></li>
<li class="subsubsection"><a href="beginning#sec:install_git">Installer Git</a></li>
<li class="subsubsection"><a href="beginning#sec:install_ruby">Installer Ruby</a></li>
<li class="subsubsection"><a href="beginning#sec:install_rubygems">Installer RubyGems</a></li>
<li class="subsubsection"><a href="beginning#sec:install_rails">Installer Rails</a></li></ol></li>
<li class="subsection"><a href="beginning#sec:the_first_application"><span class="number">1.2.3</span> La première application</a></li>
<li class="subsection"><a href="beginning#sec:bundler"><span class="number">1.2.4</span> Bundler</a></li>
<li class="subsection"><a href="beginning#sec:rails_server"><span class="number">1.2.5</span> <code>Le serveur rails (rails server)</code></a></li>
<li class="subsection"><a href="beginning#sec:mvc"><span class="number">1.2.6</span> Modèles-Vue-Contrôleur (MVC)</a></li></ol></li>
<li class="section"><a href="beginning#sec:version_control"><span class="number">1.3</span> Contrôle de versions avec Git</a></li>
<li><ol>
<li class="subsection"><a href="beginning#sec:git_setup"><span class="number">1.3.1</span> Installation et réglages</a></li>
<li><ol>
<li class="subsubsection"><a href="beginning#sec:1.3.1.1">([First-time system setup)]</a></li>
<li class="subsubsection"><a href="beginning#sec:1.3.1.2">[(First-time repository setup)]</a></li></ol></li>
<li class="subsection"><a href="beginning#sec:adding_and_committing"><span class="number">1.3.2</span> Ajout et commentaire</a></li>
<li class="subsection"><a href="beginning#sec:1.3.3"><span class="number">1.3.3</span> Qu'est-ce que Git peut faire de bien pour vous&nbsp;?</a></li>
<li class="subsection"><a href="beginning#sec:github"><span class="number">1.3.4</span> GitHub</a></li>
<li class="subsection"><a href="beginning#sec:git_commands"><span class="number">1.3.5</span> Branch, edit, commit, merge</a></li>
<li><ol>
<li class="subsubsection"><a href="beginning#sec:git_branch">Branch</a></li>
<li class="subsubsection"><a href="beginning#sec:git_edit">Edit</a></li>
<li class="subsubsection"><a href="beginning#sec:git_commit">Commit</a></li>
<li class="subsubsection"><a href="beginning#sec:git_merge">Merge</a></li>
<li class="subsubsection"><a href="beginning#sec:git_push">Push</a></li></ol></li></ol></li>
<li class="section"><a href="beginning#sec:deploying"><span class="number">1.4</span> Déploiement</a></li>
<li><ol>
<li class="subsection"><a href="beginning#sec:1.4.1"><span class="number">1.4.1</span> Réglages Heroku</a></li>
<li class="subsection"><a href="beginning#sec:heroku_step_one"><span class="number">1.4.2</span> déploiement Heroku, première étape</a></li>
<li class="subsection"><a href="beginning#sec:1.4.3"><span class="number">1.4.3</span> Déploiement Heroku deployment, seconde étape</a></li>
<li class="subsection"><a href="beginning#sec:heroku_commands"><span class="number">1.4.4</span> Commandes Heroku</a></li></ol></li>
<li class="section"><a href="beginning#sec:beginning_conclusion"><span class="number">1.5</span> Conclusion</a></li></ol></li>
<li class="chapter"><a href="a-demo-app#top"><span class="number">Chapitre 2</span> Une application démo</a></li>
<li><ol>
<li class="section"><a href="a-demo-app#sec:planning_the_application"><span class="number">2.1</span> Planifier l'application</a></li>
<li><ol>
<li class="subsection"><a href="a-demo-app#sec:modeling_users"><span class="number">2.1.1</span> Modéliser les utilisateurs</a></li>
<li class="subsection"><a href="a-demo-app#sec:modeling_microposts"><span class="number">2.1.2</span> Modéliser les micro-messages</a></li></ol></li>
<li class="section"><a href="a-demo-app#sec:demo_users_resource"><span class="number">2.2</span> The La ressource Utilisateurs (Users)</a></li>
<li><ol>
<li class="subsection"><a href="a-demo-app#sec:a_user_tour"><span class="number">2.2.1</span> [(A user tour)]</a></li>
<li class="subsection"><a href="a-demo-app#sec:mvc_in_action"><span class="number">2.2.2</span> MVC en action</a></li>
<li class="subsection"><a href="a-demo-app#sec:weaknesses_of_this_users_resource"><span class="number">2.2.3</span> Faiblesses de la ressource Utilisateurs (Users)</a></li></ol></li>
<li class="section"><a href="a-demo-app#sec:microposts_resource"><span class="number">2.3</span> La ressource Micro-messages (Microposts)</a></li>
<li><ol>
<li class="subsection"><a href="a-demo-app#sec:a_micropost_microtour"><span class="number">2.3.1</span> [(A micropost microtour)]</a></li>
<li class="subsection"><a href="a-demo-app#sec:putting_the_micro_in_microposts"><span class="number">2.3.2</span> [(Putting the <em>micro</em> in microposts)]</a></li>
<li class="subsection"><a href="a-demo-app#sec:demo_user_has_many_microposts"><span class="number">2.3.3</span> [(A user <code>has_many</code> microposts)]</a></li>
<li class="subsection"><a href="a-demo-app#sec:inheritance_hierarchies"><span class="number">2.3.4</span> Hiérarchie des héritages</a></li>
<li class="subsection"><a href="a-demo-app#sec:deploying_the_demo_app"><span class="number">2.3.5</span> Déployer l'application Démo</a></li></ol></li>
<li class="section"><a href="a-demo-app#sec:2.4"><span class="number">2.4</span> Conclusion</a></li></ol></li>
<li class="chapter"><a href="static-pages#top"><span class="number">Chapitre 3</span> Pages statiques courantes</a></li>
<li><ol>
<li class="section"><a href="static-pages#sec:static_pages"><span class="number">3.1</span> Pages statiques</a></li>
<li><ol>
<li class="subsection"><a href="static-pages#sec:truly_static_pages"><span class="number">3.1.1</span> [(Truly static pages)]</a></li>
<li class="subsection"><a href="static-pages#sec:static_pages_with_rails"><span class="number">3.1.2</span> Les pages statiques avec Rails</a></li></ol></li>
<li class="section"><a href="static-pages#sec:first_tests"><span class="number">3.2</span> Premiers tests</a></li>
<li><ol>
<li class="subsection"><a href="static-pages#sec:testing_tools"><span class="number">3.2.1</span> Outils de test</a></li>
<li><ol>
<li class="subsubsection"><a href="static-pages#sec:autotest">Auto-test</a></li></ol></li>
<li class="subsection"><a href="static-pages#sec:TDD"><span class="number">3.2.2</span> TDD : Rouge, Vert, Refactor</a></li>
<li><ol>
<li class="subsubsection"><a href="static-pages#sec:spork">Spork</a></li>
<li class="subsubsection"><a href="static-pages#sec:red">Rouge</a></li>
<li class="subsubsection"><a href="static-pages#sec:green">Vert</a></li>
<li class="subsubsection"><a href="static-pages#sec:refactor">Refactor</a></li></ol></li></ol></li>
<li class="section"><a href="static-pages#sec:slightly_dynamic_pages"><span class="number">3.3</span> [(Slightly dynamic pages)]</a></li>
<li><ol>
<li class="subsection"><a href="static-pages#sec:testing_a_title_change"><span class="number">3.3.1</span> Test d'un changement de titre</a></li>
<li class="subsection"><a href="static-pages#sec:passing_title_tests"><span class="number">3.3.2</span> Réussir les tests de titre</a></li>
<li class="subsection"><a href="static-pages#sec:instance_variables_embedded_ruby"><span class="number">3.3.3</span> Variables d'instance et [(Embedded Ruby)]</a></li>
<li class="subsection"><a href="static-pages#sec:layouts"><span class="number">3.3.4</span> Supprimer les répétitions avec les [(layouts)]</a></li></ol></li>
<li class="section"><a href="static-pages#sec:static_pages_conclusion"><span class="number">3.4</span> Conclusion</a></li>
<li class="section"><a href="static-pages#sec:static_pages_Exercices"><span class="number">3.5</span> Exercices</a></li></ol></li>
<li class="chapter"><a href="rails-flavored-ruby#top"><span class="number">Chapitre 4</span> [(Rails-flavored Ruby)]</a></li>
<li><ol>
<li class="section"><a href="rails-flavored-ruby#sec:motivation"><span class="number">4.1</span> Motivation</a></li>
<li><ol>
<li class="subsection"><a href="rails-flavored-ruby#sec:title_helper"><span class="number">4.1.1</span> Un « helper » (« aideur ») pour le titre (<code>title</code>)</a></li>
<li class="subsection"><a href="rails-flavored-ruby#sec:cascading_style_sheets"><span class="number">4.1.2</span> Feuilles de styles (CSS — Cascading Style Sheets)</a></li></ol></li>
<li class="section"><a href="rails-flavored-ruby#sec:strings_and_methods"><span class="number">4.2</span> Chaines de caractères et méthodes</a></li>
<li><ol>
<li class="subsection"><a href="rails-flavored-ruby#sec:comments"><span class="number">4.2.1</span> Commentaires</a></li>
<li class="subsection"><a href="rails-flavored-ruby#sec:strings"><span class="number">4.2.2</span> Chaines de caractères</a></li>
<li><ol>
<li class="subsubsection"><a href="rails-flavored-ruby#sec:printing">Impression</a></li>
<li class="subsubsection"><a href="rails-flavored-ruby#sec:single_quoted_strings">Chaines de caractères « single-quoté »</a></li></ol></li>
<li class="subsection"><a href="rails-flavored-ruby#sec:objects_and_message_passing"><span class="number">4.2.3</span> [(Objects and message passing)]</a></li>
<li class="subsection"><a href="rails-flavored-ruby#sec:method_definitions"><span class="number">4.2.4</span> Définition de méthode</a></li>
<li class="subsection"><a href="rails-flavored-ruby#sec:back_to_the_title_helper"><span class="number">4.2.5</span> Retour à l'« helper » de titre</a></li></ol></li>
<li class="section"><a href="rails-flavored-ruby#sec:other_data_structures"><span class="number">4.3</span> Autres structures de données</a></li>
<li><ol>
<li class="subsection"><a href="rails-flavored-ruby#sec:arrays_and_ranges"><span class="number">4.3.1</span> Tableaux et rangs</a></li>
<li class="subsection"><a href="rails-flavored-ruby#sec:blocks"><span class="number">4.3.2</span> Blocs</a></li>
<li class="subsection"><a href="rails-flavored-ruby#sec:hashes_and_symbols"><span class="number">4.3.3</span> [(Hashes and symbols)]</a></li>
<li class="subsection"><a href="rails-flavored-ruby#sec:css_revisited"><span class="number">4.3.4</span> CSS revisitées</a></li></ol></li>
<li class="section"><a href="rails-flavored-ruby#sec:ruby_classes"><span class="number">4.4</span> Classes Ruby</a></li>
<li><ol>
<li class="subsection"><a href="rails-flavored-ruby#sec:constructors"><span class="number">4.4.1</span> Constructeurs</a></li>
<li class="subsection"><a href="rails-flavored-ruby#sec:a_class_of_our_own"><span class="number">4.4.2</span> Héritages de classes</a></li>
<li class="subsection"><a href="rails-flavored-ruby#sec:modifying_built_in_classes"><span class="number">4.4.3</span> [(Modifying built-in classes)]</a></li>
<li class="subsection"><a href="rails-flavored-ruby#sec:a_controller_class"><span class="number">4.4.4</span> Classe de contrôleur</a></li>
<li class="subsection"><a href="rails-flavored-ruby#sec:a_user_class"><span class="number">4.4.5</span> Classe utiliateur</a></li></ol></li>
<li class="section"><a href="rails-flavored-ruby#sec:Exercices"><span class="number">4.5</span> Exercices</a></li></ol></li>
<li class="chapter"><a href="filling-in-the-layout#top"><span class="number">Chapitre 5</span> [(Filling in the layout)]</a></li>
<li><ol>
<li class="section"><a href="filling-in-the-layout#sec:structure"><span class="number">5.1</span> Ajout de structure</a></li>
<li><ol>
<li class="subsection"><a href="filling-in-the-layout#sec:adding_to_the_layout"><span class="number">5.1.1</span> Navigation du site</a></li>
<li class="subsection"><a href="filling-in-the-layout#sec:custom_css"><span class="number">5.1.2</span> Personnalisation CSS</a></li>
<li class="subsection"><a href="filling-in-the-layout#sec:partials"><span class="number">5.1.3</span> Partiels (Partials)</a></li></ol></li>
<li class="section"><a href="filling-in-the-layout#sec:layout_links"><span class="number">5.2</span> [(Layout links)]</a></li>
<li><ol>
<li class="subsection"><a href="filling-in-the-layout#sec:integration_tests"><span class="number">5.2.1</span> Test d'intégration</a></li>
<li class="subsection"><a href="filling-in-the-layout#sec:rails_routes"><span class="number">5.2.2</span> Routes Rails</a></li>
<li class="subsection"><a href="filling-in-the-layout#sec:named_routes"><span class="number">5.2.3</span> Nommer les routes</a></li></ol></li>
<li class="section"><a href="filling-in-the-layout#sec:user_signup"><span class="number">5.3</span> Inscription de l'utilisateur : une première étape</a></li>
<li><ol>
<li class="subsection"><a href="filling-in-the-layout#sec:users_controller"><span class="number">5.3.1</span> Contrôleur Utilisateur (Users controller)</a></li>
<li class="subsection"><a href="filling-in-the-layout#sec:signup_url"><span class="number">5.3.2</span> URL d'inscription</a></li></ol></li>
<li class="section"><a href="filling-in-the-layout#sec:layout_conclusion"><span class="number">5.4</span> Conclusion</a></li>
<li class="section"><a href="filling-in-the-layout#sec:layout_Exercices"><span class="number">5.5</span> Exercices</a></li></ol></li>
<li class="chapter"><a href="modeling-and-viewing-users-one#top"><span class="number">Chapitre 6</span> Modéliser et afficher les utilisateurs, partie I</a></li>
<li><ol>
<li class="section"><a href="modeling-and-viewing-users-one#sec:user_model"><span class="number">6.1</span> Modèle utilisateur (User model)</a></li>
<li><ol>
<li class="subsection"><a href="modeling-and-viewing-users-one#sec:database_migrations"><span class="number">6.1.1</span> Migrations de la base de données</a></li>
<li class="subsection"><a href="modeling-and-viewing-users-one#sec:the_model_file"><span class="number">6.1.2</span> [(The model file)]</a></li>
<li><ol>
<li class="subsubsection"><a href="modeling-and-viewing-users-one#sec:model_annotation">[(Model annotation)]</a></li>
<li class="subsubsection"><a href="modeling-and-viewing-users-one#sec:accessible_attributes">Attributs accessibles</a></li></ol></li>
<li class="subsection"><a href="modeling-and-viewing-users-one#sec:creating_user_objects"><span class="number">6.1.3</span> Créer des objets Utilisateur</a></li>
<li class="subsection"><a href="modeling-and-viewing-users-one#sec:finding_user_objects"><span class="number">6.1.4</span> [(Finding user objects)]</a></li>
<li class="subsection"><a href="modeling-and-viewing-users-one#sec:updating_user_objects"><span class="number">6.1.5</span> [(Updating user objects)]</a></li></ol></li>
<li class="section"><a href="modeling-and-viewing-users-one#sec:user_validations"><span class="number">6.2</span> Validations utilisateur</a></li>
<li><ol>
<li class="subsection"><a href="modeling-and-viewing-users-one#sec:presence_validation"><span class="number">6.2.1</span> Valider l'existence</a></li>
<li class="subsection"><a href="modeling-and-viewing-users-one#sec:length_validation"><span class="number">6.2.2</span> Valider la longueur</a></li>
<li class="subsection"><a href="modeling-and-viewing-users-one#sec:format_validation"><span class="number">6.2.3</span> Valider le format</a></li>
<li class="subsection"><a href="modeling-and-viewing-users-one#sec:uniqueness_validation"><span class="number">6.2.4</span> Valider l'unicité</a></li>
<li><ol>
<li class="subsubsection"><a href="modeling-and-viewing-users-one#sec:the_caveat">[(The uniqueness caveat)]</a></li></ol></li></ol></li>
<li class="section"><a href="modeling-and-viewing-users-one#sec:viewing_users"><span class="number">6.3</span> Afficher les utilisateurs</a></li>
<li><ol>
<li class="subsection"><a href="modeling-and-viewing-users-one#sec:rails_environments"><span class="number">6.3.1</span> Débuggage et environnements Rails</a></li>
<li class="subsection"><a href="modeling-and-viewing-users-one#sec:users_show"><span class="number">6.3.2</span> Modèle, Vue et Contrôleur Utilisateur</a></li>
<li class="subsection"><a href="modeling-and-viewing-users-one#sec:a_users_resource"><span class="number">6.3.3</span> Ressource Utilisateurs</a></li>
<li><ol>
<li class="subsubsection"><a href="modeling-and-viewing-users-one#sec:params_in_debug">[(<code>params</code> in <code>debug</code>)]</a></li></ol></li></ol></li>
<li class="section"><a href="modeling-and-viewing-users-one#sec:6.4"><span class="number">6.4</span> Conclusion</a></li>
<li class="section"><a href="modeling-and-viewing-users-one#sec:6.5"><span class="number">6.5</span> Exercices</a></li></ol></li>
<li class="chapter"><a href="modeling-and-viewing-users-two#top"><span class="number">Chapitre 7</span> Modéliser et afficher les utilisateurs, partie II</a></li>
<li><ol>
<li class="section"><a href="modeling-and-viewing-users-two#sec:insecure_passwords"><span class="number">7.1</span> Mots de passe non sûrs</a></li>
<li><ol>
<li class="subsection"><a href="modeling-and-viewing-users-two#sec:password_validations"><span class="number">7.1.1</span> Valider le mot de passe</a></li>
<li class="subsection"><a href="modeling-and-viewing-users-two#sec:password_migration"><span class="number">7.1.2</span> Migrer un mot de passe</a></li>
<li class="subsection"><a href="modeling-and-viewing-users-two#sec:an_active_record_callback"><span class="number">7.1.3</span> [(An Active Record callback)]</a></li></ol></li>
<li class="section"><a href="modeling-and-viewing-users-two#sec:secure_passwords"><span class="number">7.2</span> Sécuriser les mots de passe</a></li>
<li><ol>
<li class="subsection"><a href="modeling-and-viewing-users-two#sec:a_secure_password_test"><span class="number">7.2.1</span> Test de mot de passe sûr</a></li>
<li class="subsection"><a href="modeling-and-viewing-users-two#sec:secure_password_theory"><span class="number">7.2.2</span> Un peu de théorie sur les mots de passe sécurisés</a></li>
<li class="subsection"><a href="modeling-and-viewing-users-two#sec:implementing_has_password"><span class="number">7.2.3</span> Implémenter la méthode <code>has_password?</code></a></li>
<li class="subsection"><a href="modeling-and-viewing-users-two#sec:an_authenticate_method"><span class="number">7.2.4</span> Méthode d'authentification</a></li></ol></li>
<li class="section"><a href="modeling-and-viewing-users-two#sec:better_user_views"><span class="number">7.3</span> Meilleures vues d'utilisateurs</a></li>
<li><ol>
<li class="subsection"><a href="modeling-and-viewing-users-two#sec:tests_with_factories"><span class="number">7.3.1</span> Tester la page de l'utilisateur (avec factories)</a></li>
<li class="subsection"><a href="modeling-and-viewing-users-two#sec:a_name_and_a_gravatar"><span class="number">7.3.2</span> Un nom et un Gravatar</a></li>
<li><ol>
<li class="subsubsection"><a href="modeling-and-viewing-users-two#sec:a_gravatar_helper">Un « helper » de Gravatar</a></li></ol></li>
<li class="subsection"><a href="modeling-and-viewing-users-two#sec:a_user_sidebar"><span class="number">7.3.3</span> Une barre utilisateur latérale</a></li></ol></li>
<li class="section"><a href="modeling-and-viewing-users-two#sec:7.4"><span class="number">7.4</span> Conclusion</a></li>
<li><ol>
<li class="subsection"><a href="modeling-and-viewing-users-two#sec:7.4.1"><span class="number">7.4.1</span> Commit Git</a></li>
<li class="subsection"><a href="modeling-and-viewing-users-two#sec:heroku_deploy"><span class="number">7.4.2</span> Déploiement Heroku</a></li></ol></li>
<li class="section"><a href="modeling-and-viewing-users-two#sec:more_modeling_users_Exercices"><span class="number">7.5</span> Exercices</a></li></ol></li>
<li class="chapter"><a href="sign-up#top"><span class="number">Chapitre 8</span> Inscription</a></li>
<li><ol>
<li class="section"><a href="sign-up#sec:signup_form"><span class="number">8.1</span> Formulaire d'inscription</a></li>
<li><ol>
<li class="subsection"><a href="sign-up#sec:using_form_for"><span class="number">8.1.1</span> Utiliser  <code>form_for</code></a></li>
<li class="subsection"><a href="sign-up#sec:the_form_html"><span class="number">8.1.2</span> Le formulaire HTML</a></li></ol></li>
<li class="section"><a href="sign-up#sec:signup_failure"><span class="number">8.2</span> Échec de l'inscription</a></li>
<li><ol>
<li class="subsection"><a href="sign-up#sec:testing_failure"><span class="number">8.2.1</span> Test de l'échec</a></li>
<li class="subsection"><a href="sign-up#sec:a_working_form"><span class="number">8.2.2</span> Un formulaire fonctionnel</a></li>
<li class="subsection"><a href="sign-up#sec:signup_error_messages"><span class="number">8.2.3</span> Inscription&nbsp;: messages d'erreur</a></li>
<li class="subsection"><a href="sign-up#sec:filtering_parameter_logging"><span class="number">8.2.4</span> [(Filtering parameter logging)]</a></li></ol></li>
<li class="section"><a href="sign-up#sec:signup_success"><span class="number">8.3</span> Succès de l'inscription</a></li>
<li><ol>
<li class="subsection"><a href="sign-up#sec:testing_success"><span class="number">8.3.1</span> Tester le succès de l'inscription</a></li>
<li class="subsection"><a href="sign-up#sec:the_finished_signup_form"><span class="number">8.3.2</span> Le formulaire d'inscription finalisé</a></li>
<li class="subsection"><a href="sign-up#sec:the_flash"><span class="number">8.3.3</span> [(The flash)]</a></li>
<li class="subsection"><a href="sign-up#sec:the_first_signup"><span class="number">8.3.4</span> La première inscription</a></li></ol></li>
<li class="section"><a href="sign-up#sec:rspec_integration_tests"><span class="number">8.4</span> Test d'intégration RSpec</a></li>
<li><ol>
<li class="subsection"><a href="sign-up#sec:integration_tests_with_style"><span class="number">8.4.1</span> Tests d'intégration [(with style)]</a></li>
<li class="subsection"><a href="sign-up#sec:failed_signup"><span class="number">8.4.2</span> Un échec d'inscription ne devrait pas créer un nouvel utilisateur</a></li>
<li class="subsection"><a href="sign-up#sec:successful_signup"><span class="number">8.4.3</span> Le succès d'une inscription devrait créer un nouvel utilisateur</a></li></ol></li>
<li class="section"><a href="sign-up#sec:8.5"><span class="number">8.5</span> Conclusion</a></li>
<li class="section"><a href="sign-up#sec:signup_Exercices"><span class="number">8.6</span> Exercices</a></li></ol></li>
<li class="chapter"><a href="sign-in-sign-out#top"><span class="number">Chapitre 9</span> Connexion, déconnexion</a></li>
<li><ol>
<li class="section"><a href="sign-in-sign-out#sec:sessions"><span class="number">9.1</span> Les sessions</a></li>
<li><ol>
<li class="subsection"><a href="sign-in-sign-out#sec:sessions_controller"><span class="number">9.1.1</span> Le contrôleur de session</a></li>
<li class="subsection"><a href="sign-in-sign-out#sec:signin_form"><span class="number">9.1.2</span> Formulaire d'identification</a></li></ol></li>
<li class="section"><a href="sign-in-sign-out#sec:signin_failure"><span class="number">9.2</span> Échec de l'identification</a></li>
<li><ol>
<li class="subsection"><a href="sign-in-sign-out#sec:reviewing_form_submission"><span class="number">9.2.1</span> [(Reviewing form submission)]</a></li>
<li class="subsection"><a href="sign-in-sign-out#sec:failed_signin"><span class="number">9.2.2</span> Échec de l'identification (test et code)</a></li></ol></li>
<li class="section"><a href="sign-in-sign-out#sec:signin_success"><span class="number">9.3</span> Succès de l'identification</a></li>
<li><ol>
<li class="subsection"><a href="sign-in-sign-out#sec:the_completed_create_action"><span class="number">9.3.1</span> L'action <code>create</code> («&nbsp;créer&nbsp;») finalisée</a></li>
<li class="subsection"><a href="sign-in-sign-out#sec:remember_me"><span class="number">9.3.2</span> Se souvenir de moi</a></li>
<li class="subsection"><a href="sign-in-sign-out#sec:current_user"><span class="number">9.3.3</span> Utilisateur courant</a></li></ol></li>
<li class="section"><a href="sign-in-sign-out#sec:signing_out"><span class="number">9.4</span> Déconnexion</a></li>
<li><ol>
<li class="subsection"><a href="sign-in-sign-out#sec:destroying_sessions"><span class="number">9.4.1</span> Détruire la session</a></li>
<li class="subsection"><a href="sign-in-sign-out#sec:signin_upon_signup"><span class="number">9.4.2</span> [(Signin upon signup)]</a></li>
<li class="subsection"><a href="sign-in-sign-out#sec:changing_the_layout_links"><span class="number">9.4.3</span> [(Changing the layout links)]</a></li>
<li class="subsection"><a href="sign-in-sign-out#sec:signin_out_integration_tests"><span class="number">9.4.4</span> Test d'intégration de l'identification/déconnexion</a></li></ol></li>
<li class="section"><a href="sign-in-sign-out#sec:9.5"><span class="number">9.5</span> Conclusion</a></li>
<li class="section"><a href="sign-in-sign-out#sec:sign_in_out_Exercices"><span class="number">9.6</span> Exercices</a></li></ol></li>
<li class="chapter"><a href="updating-showing-and-deleting-users#top"><span class="number">Chapitre 10</span> Actualiser, afficher et supprimer de l'utilisateur</a></li>
<li><ol>
<li class="section"><a href="updating-showing-and-deleting-users#sec:updating_users"><span class="number">10.1</span> Actualiser l'utilisateur</a></li>
<li><ol>
<li class="subsection"><a href="updating-showing-and-deleting-users#sec:edit_form"><span class="number">10.1.1</span> Formulaire de modification</a></li>
<li class="subsection"><a href="updating-showing-and-deleting-users#sec:enabling_edits"><span class="number">10.1.2</span> Permettre les modifications</a></li></ol></li>
<li class="section"><a href="updating-showing-and-deleting-users#sec:protecting_pages"><span class="number">10.2</span> Protéger les pages</a></li>
<li><ol>
<li class="subsection"><a href="updating-showing-and-deleting-users#sec:requiring_signed_in_users"><span class="number">10.2.1</span> Utilisateurs identifiés requis</a></li>
<li class="subsection"><a href="updating-showing-and-deleting-users#sec:requiring_the_right_user"><span class="number">10.2.2</span> [(Requiring the right user)]</a></li>
<li class="subsection"><a href="updating-showing-and-deleting-users#sec:friendly_forwarding"><span class="number">10.2.3</span> Redirection conviviale</a></li></ol></li>
<li class="section"><a href="updating-showing-and-deleting-users#sec:showing_users"><span class="number">10.3</span> Afficher les utilisateurs</a></li>
<li><ol>
<li class="subsection"><a href="updating-showing-and-deleting-users#sec:user_index"><span class="number">10.3.1</span> Liste des utilisateurs</a></li>
<li class="subsection"><a href="updating-showing-and-deleting-users#sec:sample_users"><span class="number">10.3.2</span> Exemples d'utilisateurs</a></li>
<li class="subsection"><a href="updating-showing-and-deleting-users#sec:pagination"><span class="number">10.3.3</span> Pagination</a></li>
<li><ol>
<li class="subsubsection"><a href="updating-showing-and-deleting-users#sec:testing_pagination">Test de la pagination</a></li></ol></li>
<li class="subsection"><a href="updating-showing-and-deleting-users#sec:partial_refactoring"><span class="number">10.3.4</span> [(Partial refactoring)]</a></li></ol></li>
<li class="section"><a href="updating-showing-and-deleting-users#sec:destroying_users"><span class="number">10.4</span> Supprimer des utilisateurs</a></li>
<li><ol>
<li class="subsection"><a href="updating-showing-and-deleting-users#sec:administrative_users"><span class="number">10.4.1</span> [(Administrative users)]</a></li>
<li><ol>
<li class="subsubsection"><a href="updating-showing-and-deleting-users#sec:revisiting_attr_accessible">[(Revisiting <code>attr_accessible</code>)]</a></li></ol></li>
<li class="subsection"><a href="updating-showing-and-deleting-users#sec:the_destroy_action"><span class="number">10.4.2</span> L'action <code>destroy</code> («&nbsp;supprimer&nbsp;»)</a></li></ol></li>
<li class="section"><a href="updating-showing-and-deleting-users#sec:10.5"><span class="number">10.5</span> Conclusion</a></li>
<li class="section"><a href="updating-showing-and-deleting-users#sec:updating_deleting_Exercices"><span class="number">10.6</span> Exercices</a></li></ol></li>
<li class="chapter"><a href="user-microposts#top"><span class="number">Chapitre 11</span> Micro-messages d'utilisateur</a></li>
<li><ol>
<li class="section"><a href="user-microposts#sec:a_micropost_model"><span class="number">11.1</span> Le modèle Micropost («&nbsp;Micro-message&nbsp;»)</a></li>
<li><ol>
<li class="subsection"><a href="user-microposts#sec:the_basic_model"><span class="number">11.1.1</span> Le modèle initial</a></li>
<li><ol>
<li class="subsubsection"><a href="user-microposts#sec:accessible_attribute">Attributs accessibles</a></li></ol></li>
<li class="subsection"><a href="user-microposts#sec:user_micropost_associations"><span class="number">11.1.2</span> Associations Utilisateur/micro-messages</a></li>
<li class="subsection"><a href="user-microposts#sec:ordering_and_dependency"><span class="number">11.1.3</span> [(Micropost refinements)]</a></li>
<li><ol>
<li class="subsubsection"><a href="user-microposts#sec:default_scope">[(Default scope)]</a></li>
<li class="subsubsection"><a href="user-microposts#sec:dependent_destroy">Dependent: destroy (dépendances de la suppression)</a></li></ol></li>
<li class="subsection"><a href="user-microposts#sec:micropost_validations"><span class="number">11.1.4</span> Validations du micro-message</a></li></ol></li>
<li class="section"><a href="user-microposts#sec:showing_microposts"><span class="number">11.2</span> Afficher les micro-messages</a></li>
<li><ol>
<li class="subsection"><a href="user-microposts#sec:augmenting_the_user_show_page"><span class="number">11.2.1</span> [(Augmenting the user show page)]</a></li>
<li class="subsection"><a href="user-microposts#sec:sample_microposts"><span class="number">11.2.2</span> Exemples de micro-messages</a></li></ol></li>
<li class="section"><a href="user-microposts#sec:manipulating_microposts"><span class="number">11.3</span> Manipuler les micro-messages</a></li>
<li><ol>
<li class="subsection"><a href="user-microposts#sec:access_control"><span class="number">11.3.1</span> Contrôle de l'accès</a></li>
<li class="subsection"><a href="user-microposts#sec:creating_microposts"><span class="number">11.3.2</span> Créer des micro-messages</a></li>
<li class="subsection"><a href="user-microposts#sec:a_proto_feed"><span class="number">11.3.3</span> [(A proto-feed)]</a></li>
<li class="subsection"><a href="user-microposts#sec:destroying_microposts"><span class="number">11.3.4</span> Supprimer des micro-messages</a></li>
<li class="subsection"><a href="user-microposts#sec:testing_the_new_home_page"><span class="number">11.3.5</span> Test de la nouvelle page d'accueil</a></li></ol></li>
<li class="section"><a href="user-microposts#sec:11.4"><span class="number">11.4</span> Conclusion</a></li>
<li class="section"><a href="user-microposts#sec:micropost_Exercices"><span class="number">11.5</span> Exercices</a></li></ol></li>
<li class="chapter"><a href="following-users#top"><span class="number">Chapitre 12</span> Suivi des utilisateurs</a></li>
<li><ol>
<li class="section"><a href="following-users#sec:the_relationship_model"><span class="number">12.1</span> Le modèle Relation (Relationship model)</a></li>
<li><ol>
<li class="subsection"><a href="following-users#sec:a_problem_with_the_data_model"><span class="number">12.1.1</span> Un problème du modèle de données (et sa solution)</a></li>
<li class="subsection"><a href="following-users#sec:relationship_user_associations"><span class="number">12.1.2</span> Associations Utilisateur/Relations</a></li>
<li class="subsection"><a href="following-users#sec:relationship_validations"><span class="number">12.1.3</span> Validations</a></li>
<li class="subsection"><a href="following-users#sec:following"><span class="number">12.1.4</span> Auteurs suivis</a></li>
<li class="subsection"><a href="following-users#sec:followers"><span class="number">12.1.5</span> Lecteurs</a></li></ol></li>
<li class="section"><a href="following-users#sec:a_web_interface_for_following_and_followers"><span class="number">12.2</span> Une interface web pour les auteurs suivis et les lecteurs</a></li>
<li><ol>
<li class="subsection"><a href="following-users#sec:sample_following_data"><span class="number">12.2.1</span> Exemple de donnée de suivi</a></li>
<li class="subsection"><a href="following-users#sec:stats_and_a_follow_form"><span class="number">12.2.2</span> [(Stats and a follow form)]</a></li>
<li class="subsection"><a href="following-users#sec:following_and_followers_pages"><span class="number">12.2.3</span> Pages d'auteurs suivis et de lecteurs</a></li>
<li class="subsection"><a href="following-users#sec:a_working_follow_button_the_standard_way"><span class="number">12.2.4</span> [(A working follow button the standard way)]</a></li>
<li class="subsection"><a href="following-users#sec:a_working_follow_button_with_ajax"><span class="number">12.2.5</span> Un bouton fonctionnel avec Ajax</a></li></ol></li>
<li class="section"><a href="following-users#sec:the_status_feed"><span class="number">12.3</span> [(The status feed)]</a></li>
<li><ol>
<li class="subsection"><a href="following-users#sec:motivation_and_strategy"><span class="number">12.3.1</span> Motivation et stratégie</a></li>
<li class="subsection"><a href="following-users#sec:a_first_feed_implementation"><span class="number">12.3.2</span> Une première implémentation de peuplement</a></li>
<li class="subsection"><a href="following-users#sec:scopes_subselects_and_a_lambda"><span class="number">12.3.3</span> [(Scopes, subselects, and a lambda)]</a></li>
<li class="subsection"><a href="following-users#sec:the_new_status_feed"><span class="number">12.3.4</span> [(The new status feed)]</a></li></ol></li>
<li class="section"><a href="following-users#sec:following_conclusion"><span class="number">12.4</span> Conclusion</a></li>
<li><ol>
<li class="subsection"><a href="following-users#sec:extensions_to_the_sample_application"><span class="number">12.4.1</span> Extensions de l'application exemple</a></li>
<li><ol>
<li class="subsubsection"><a href="following-users#sec:replies">[(Replies)]</a></li>
<li class="subsubsection"><a href="following-users#sec:messaging">[(Messaging)]</a></li>
<li class="subsubsection"><a href="following-users#sec:follower_notifications">Notifications aux lecteurs</a></li>
<li class="subsubsection"><a href="following-users#sec:password_reminders">[(Password reminders)]</a></li>
<li class="subsubsection"><a href="following-users#sec:signup_confirmation">Confirmation d'inscription</a></li>
<li class="subsubsection"><a href="following-users#sec:rss_feed">[(RSS feed)]</a></li>
<li class="subsubsection"><a href="following-users#sec:rest_api">REST API</a></li>
<li class="subsubsection"><a href="following-users#sec:search">Recherche</a></li></ol></li>
<li class="subsection"><a href="following-users#sec:guide_to_further_resources"><span class="number">12.4.2</span> Guide vers d'autres ressources</a></li></ol></li>
<li class="section"><a href="following-users#sec:following_Exercices"><span class="number">12.5</span> Exercices</a></li></ol></li></ol></div>



<div id="main_content"></div>

<p> <span class="preamble">
 <span id="foreword">
<strong> Avant-propos</strong> <br />
 </span>
 </span></p>

<p>Ma précédente compagnie (CD Baby) fut une des premières à basculer complètement vers Ruby on Rails, et à rebasculer aussi complètement vers PHP (googlez-moi pour prendre la mesure du drama). Ce livre de Michael Hartl m'est arrivé avec tant de recommandation que je ne pouvais faire autrement que de le lire. C'est ainsi que <em>Ruby on Rails Tutorial</em> m'a fait retourner à Rails à nouveau </p>
<p>Bien qu'ayant parcouru de nombreux livre sur Rails, c'est celui qui m'a fait vraiment &ldquo;posséder&rdquo; Rails. Tout est fait “à la manière de Rails” —&nbsp;une manière qui ne me semblait pas naturelle avant avant d'avoir terminer ce livre. C'est aussi le seul livre sur Rails qui opère un Développement conduit par le test (“test-driven development”) d'un bout à l'autre, une approche hautement recommandée par les experts mais qui n'a jamais été aussi démontrée avant. Enfin, en incluant Git, GitHub et Heroku dans les exemples en démonstration, l'auteur vous donne vraiment le goût de ce que c'est que faire un projet dans la vraie vie. Les exemples de code du tutoriel ne sont pas de reste.</p> 
	
<p>La narration linéaire est vraiment un bon format. Personnellement, j'ai étudié <em>Le Tutoriel Rails</em> en trois longues journées, en faisant tous les exemples et les exercices proposés à la fin de chaque chapitre. Lisez du début à la fin, en ne sautant aucune partie, et vous en tirerez tout le bénéfice.</p>

<p>Régalez-vous&nbsp;!</p>

<p><a href="http://sivers.org/">Derek Sivers</a> (<a href="http://sivers.org/">sivers.org</a>) <br />
<em>Précédemment&nbsp;: Fondateur de </em> <a href="http://www.cdbaby.com/"><em>CD Baby</em></a> <br />
<em>Actuellement&nbsp;: Fondateur de </em> <a href="http://thoughts.pro/"><em>Thoughts Ltd.</em></a> <br /></p>

<p> <span class="preamble">
<strong> Remerciements</strong> <br />
 </span></p>

<p>Ce <em>Tutoriel Ruby on Rails</em> doit beaucoup à mon livre précédent sur Rails, <em>RailsSpace</em>, et donc à mon co-auteur <a href="http://aure.com/">Aurelius Prochazka</a>. J'aimerais remercier Aure à la fois pour le travail qu'il a accompli sur ce précédent livre et pour son soutien pour le présent ouvrage. J'aimerais aussi remercier Debra Williams Cauley, mon éditeur pour les deux ouvrages&nbsp;; aussi longtemps qu'[elle me prendra au baseball][she keeps taking me to baseball games], je continuerai d'écrire des livres pour elle.</p>

<p>J'aimerais remerciement une longue liste de Rubyistes qui m'ont parlé et inspiré au cours des années&nbsp;; David Heinemeier Hansson, Yehuda Katz, Carl Lerche, Jeremy Kemper, Xavier Noria, Ryan Bates, Geoffrey Grosenbach, Peter Cooper, Matt Aimonetti, Gregg Pollack, Wayne&nbsp;E. Seguin, Amy Hoy, Dave Chelimsky, Pat Maddox, Tom Preston-Werner, Chris Wanstrath, Chad Fowler, Josh Susser, Obie Fernandez, Ian McFarland, Steven Bristol, Giles Bowkett, Evan Dorn, Long Nguyen, James Lindenbaum, Adam Wiggins, Tikhon Bernstam, Ron Evans, Wyatt Greene, Miles Forrest, les gens bien de Pivotal Labs, le gang Heroku, les mecs de thoughtbot, et l'équipe de GitHub. Enfin, tellement, tellement, tellement de lecteurs —&nbsp;beaucoup trop pour les citer tous&nbsp;— qui ont contribuer par leur rapport de bogues et leurs suggestions durant l'écriture de ce livre, et je tiens à saluer leur aide pour rendre ce livre aussi bon qu'il pouvait être. <br /></p>

<p> <span class="preamble">
 <span id="author">
<strong> À propos de l'auteur</strong> <br />
 </span>
 </span></p>

<p><a href="http://michaelhartl.com/">Michael Hartl</a> est programmeur, éducateur et entrepreneur. Il est le co-auteur de <em>RailsSpace</em>, un tutoriel Rails [qui s'est bien vendu] publié en 2007, et a été co-fondateur et développeur en chef de <a href="http://insoshi.com/">Insoshi</a>, une plateforme de réseau social <a href="http://github.com/popular/forked">populaire</a> en Ruby on Rails. Précédement, il a enseigné la théorie et [l'application informatique][computational physics] en physique au <a href="http://www.caltech.edu/">California Institute of Technology</a> (Caltech), où il a reçu le Lifetime Achievement Award for Excellence en enseignement. Michael est diplômé du <a href="http://college.harvard.edu/">Harvard College</a>, a un <a href="http://resolver.caltech.edu/CaltechETD:etd-05222003-161626">Ph.D. en physique</a> (NdT. Un doctorat) de <a href="http://www.caltech.edu/">Caltech</a>, et est ancien élève du programme   des entrepreneurs <a href="http://ycombinator.com/">Y&nbsp;Combinator</a>. <br /></p>

<p> <span id="license" class="preamble">
<strong> Copyright et license</strong> <br />
 </span></p>

<p><em>Le Tutoriel Ruby on Rails&nbsp;: apprendre Rails par l'exemple</em>. Copyright &copy; 2010 par Michael Hartl. Tout le code source du <em>Tutoriel Ruby on Rails</em> est disponible sour la license <a href="http://www.opensource.org/licenses/mit-license.php">MIT License</a> et la licence <a href="http://en.wikipedia.org/wiki/Beerware">Beerware License</a>.</p>

<pre class="verbatim">   Copyright (c) 2010 Michael Hartl

   [(La permission est accordée ici, à titre gratuit, à toute
   personne obtenant une copie de ce logiciel et sa documentation
   associés (le “Software”), 
   Permission is hereby granted, free of charge, to any person
   obtaining a copy of this software and associated documentation
   files (the &quot;Software&quot;), de traiter dans le Software
   sans restriction, d'inclure sans limitation de droits à utiliser,
   copier, modifier, ajouter, publier, distribuer, sous-licensier,
   et/ou vendre des copies de ce Software, et de permettre au gens
   à qui ce Software est fourni d'en faire de même, assujetti aux
   conditions suivantes&nbsp;:

   La note de copyright ci-dessous et cette notice de permission
   doivent être inclues à toute copie ou portion substantielle
   du logiciel.

   LE LOGICIEL EST FOURNI “TEL QUEL”, SANS AUCUNE GARANTIE D'AUCUNE
   ESPÈCE, ESPRESSE OU IMPLICITE, INCLUANT MAIS NE LIMITANT PAS LES
   GARANTIES MARCHANDES, À PROPOS D'UN BUT PARTICULIER ET ABSENCE
   DE CONTREFAÇON. EN AUCUN CAS LES AUTEURS OU LES DÉTENTEURS DU 
   COPYRIGHT NE POURRONT ÊTRE TENUS RESPONSABLE DE DOMMAGE OU AUTRE
   RESPONSABILITÉ, SI EN UNE ACTION DE CONTRAT, TORT OU AUTREMENT,
   DÉCOULANT DIRECTEMENT OU INDIRECTEMENT DE L'UTILISATION OU DE LA
   MODIFICATION DE CE LOGICIEL.)]</pre>




<pre class="verbatim">/*
 * ------------------------------------------------------------
 * &quot;THE BEERWARE LICENSE&quot; (Revision 42):
 * Michael Hartl a écrit ce code. Aussi longtemps que vous
 * conservez cette note, vous pouvez faire ce que vous voulez
 * de ce travail. Si nous nous rencontrons un jour, et que vous
 * pensez que ce travail en vaut la peine, vous pourrez me
 * payer une bière en retour.
 * ------------------------------------------------------------
 */</pre>


<div id="top"></div>


<h1 class="chapitre"><a id="sec:1" href="beginning#top" class="heading"><span class="number">chapitre 1</span> De zéro au déploiement</a></h1>


<p>Bienvenue dans <a href="http://railstutorial.org/book"><em>Le Tutoriel Ruby on Rails&nbsp;: Apprendre Rails par l'exemple</em></a>. Le but de ce livre est d'être la meilleure réponse à la questions&nbsp;: “Si je veux apprendre le développement web avec <a href="http://rubyonrails.org/">Ruby on Rails</a>, par où dois-je commencer&nbsp;?&rdquo; Quand vous aurez achevé <em>Le Turoriel Ruby on Rails</em>, vous aurez toutes les connaissances nécessaire pour développer et déployer votre propre application web personnalisée. Vous serez également prêts à tire profit des livres plus avancés, des blogs et des and screencasts qui font partie de l'écosystème d'éductation Rails prospère. Enfin, puisque le <em>Tutoriel Ruby on Rails</em> utilise Rails&nbsp;3.0, la connaissance que vous acquiererez sera pleinement d'actualité avec la dernière et meilleure version de Rails.<sup class="footnote" id="fnref:1.1"><a href="#fn:1.1">1</a></sup></p>

<p>Le <em>Tutoriel Ruby on Rails</em> suit essentiellement la même approche que mon livre précédent,<sup class="footnote" id="fnref:1.2"><a href="#fn:1.2">2</a></sup> enseignant le développement web avec Rails en construisant un exemple d'application conséquente, depuis le tout départ. Comme <a href="http://sivers.org">Derek Sivers</a> le souligne dans l'avant-propos, ce livre est structuré comme une narration linéaire, destinée à être lu du début à la fin. Si vous avez l'habitude de survoler les livres technique, suivre cette approche linéaire peut vous demander quelques ajustements, mais je ne saurais trop vous recommander d'essayer. Vous pouvez penser au <em>Tutoriel Ruby on Rails</em> comme un jeu vidéo dont vous êtes le héros, et où vous augmentz votre niveau de développeur Rails à chaque chapitre (les exercices sont comme des <a href="http://en.wikipedia.org/wiki/Boss_(video_gaming)#Miniboss">minibosses</a>).</p>

<p>Dans le premier chapitre, nous commencerons avec Ruby on Rails en installant tous les softwares nécessaire et en préparant votre environnement de développement (<a class="ref" href="beginning#sec:up_and_running">section&nbsp;1.2</a>). Nous créerons alors notre première application Rails, appelée (de façon assez pertinente ma foi) <tt>first_app</tt> (“première_application”). Le <em>Tutoriel Rails</em> met l'accent sur les bonnes pratiques de développement, aussi, immédiatement après avoir créé notre frais nouveau projet Rails nous le déposerons sous une version de contrôle avec Git (<a class="ref" href="beginning#sec:version_control">section&nbsp;1.3</a>). Et, croyez-le ou non, dans ce chapitre nous <em>déploierons</em> même notre première application en mode “production” (<a class="ref" href="beginning#sec:deploying">Section&nbsp;1.4</a>).</p>

<p>Au <a class="ref" href="a-demo-app#top">chapitre&nbsp;2</a>, nous créerons un second projet, dont le but sera d'illustrer les fonctions élémentaires d'une application Rails. [Pour gagner du temps][To get up and running quickly], nous construirons cette <em>application démo</em> (qui s'appellera <tt>demo_app</tt>) en utilisant le système échaffaudage (“scaffolding”) (<a class="ref" href="beginning#sidebar:scaffolding">Box&nbsp;1.1</a>) pour générer automatiquement le code&nbsp;; comme ce code est aussi laid que complexe, le <a class="ref" href="a-demo-app#top">chapitre&nbsp;2</a> se concentrera sur l'interaction avec l'application de démonstration par le biais des <em>URLs</em><sup class="footnote" id="fnref:1.3"><a href="#fn:1.3">3</a></sup> en utilisant un navigateur internet.</p>

<p>Au <a class="ref" href="static-pages#top">chapitre&nbsp;3</a>, nous créerons une <em>application exemple</em> (que nous appellerons <tt>sample_app</tt>), en écrivant cette fois tout le code à partir de rien. Nous développerons cette application exemple en utilisant le <em>Test Dirige le Développement</em> (“<em>test-driven development</em>”) (TDD), amorcé au <a class="ref" href="static-pages#top">chapitre&nbsp;3</a> en créant des pages statiques puis en ajoutant un peu de contenu dynamique. Nous ferons un rapide détour au <a class="ref" href="rails-flavored-ruby#top">chapitre&nbsp;4</a> pour en apprendre un peu plus sur le langage Ruby [qui sous-tend] Rails. Puis, du <a class="ref" href="filling-in-the-layout#top">chapitre&nbsp;5</a> au <a class="ref" href="updating-showing-and-deleting-users#top">chapitre&nbsp;10</a>, nous complèterons les fondattions de l'application exemple en fabricant un [charte pour le site ? plan du site] [site layout], un modèle de données utilisateur (“user data model”), et un système complet d'enregistrement et d'authentification. Enfin, aux <a class="ref" href="user-microposts#top">chapitre&nbsp;11</a> et <a class="ref" href="following-users#top">chapitre&nbsp;12</a> nous incorporerons des outils de micro-blogging (un système de mini-messages) et de réseau social pour faire un exemple de site tout à fait fonctionnel.</p>

<p>L'application exemple finale aura plus d'une ressemblance avec <a href="http://twitter.com/">une certaine application sociale de micro-blogging</a>&mdash; un site qui, a site which, par le plus grand des hasards [[demander à Michael si c'est de l'humour quand il écrit : coincidentally]], est également écrite en Rails. Bien que nos efforts se concentrent nécessairement sur cette application exemple spécifique, l'accent dans ce <em>Tutoriel Rails</em> sera mis sur des principes généraux, donc vous aurez des fondamentaux solides quels que soient les genres d'applications web que vous vouliez construire.</p>

<div class="label" id="sidebar:scaffolding"></div>


<div class="sidebar"><span class="title"><span class="header">Box 1.1.</span><span class="description">Échaffaudage (“Scaffolding”)&nbsp;: Plus rapide, plus facile, plus séduisant</span></span>
<p>Depuis le départ, Rails a bénéficié d'un engouement évident, à commencer grâce notamment au fameux <a href="http://media.rubyonrails.org/video/rails_take2_with_sound.mov">Un Weblog vidéo en 15 minutes</a> par le créateur de Rails David Heinemeier Hansson, actualisé à présent dans le <a href="http://media.rubyonrails.org/video/rails_blog_2.mov">Un Weblog en 15 minutes en utilisant Rails&nbsp;2</a> par Ryan Bates. Ces vidéos sont une excellent façon de goûter à la puissance de Rails, et je recommande vivement de les regarder. Mais soyez averti quand même&nbsp;: ils accomplissent leur incroyable coup d'adresse de quinze minutes en utilisant l'outil appelé  <em>scaffolding</em> (“Échaffaudage”), bâtit fortement sur un <em>code automatiquement généré</em>, créé comme par magie par la commande Rails <code>generate</code> (“Générer”).</p>

<p>En écrivant un tutoriel sur Ruby on rails, il est tentant de s'appuyer sur l'approche par échaffaudage &mdash;&nbsp;elle est <a href="http://en.wikipedia.org/wiki/Dark_side_(Star_Wars)">plus rapide, plus facile, et plus séduisante</a>. Mais la complexité et l'énorme quantité de code dans un échaffaudage peut être  rédhibitoire pour un développeur Rails débutant&nbsp;; vous pouvez peut-être l'utiliser, mais vous serez incapable de le comprendre. Suivre l'approche par échaffaudage risque de vous tourner vers un script générateur de code virtuose au détriment d'une véritable connaissance de Rails.</p>

<p>Dans le <em>Tutoriel Ruby on Rails</em>, nous adopterons l'approche presque exactement opposée&nbsp;: bien que le <a class="ref" href="a-demo-app#top">chapitre&nbsp;2</a> développera une petite application démo en utilisant le système d'échaffaudage, le cœur de ce tutoriel est l'application exemple, que nous commencerons à concevoir au <a class="ref" href="static-pages#top">chapitre&nbsp;3</a>. À chaque étape du développement de cette application exemple, nous générerons [du code par <em>petites bouchées</em>][<em>small, bite-sized</em> pieces of code]&mdash;&nbsp;assez simple pour être compris, mais assez nouveau pour représenter une difficulté à surmonter. L'effet de cette approche par couches résultera en une approche profonde, et une connaissance flexible de Rails, vous fournissant de bons fondements pour concevoir pratiquement n'importe quel type d'application web.</p>
</div>




<div class="label" id="sec:introduction"></div>


<h2><a id="sec:1.1" href="beginning#sec:introduction" class="heading"><span class="number">1.1</span> Introduction</a></h2>


<p>Depuis ses début en 2004, Ruby on Rails est rapidement devenu un des framewords les plus populaires et les plus puissants pour construire des applications web dynamiques. Les utilisateurs de Rails couvrent un large éventails d'application, depuis la [start-up décousue][scrappy startups] jusqu'aux énormes compagnies&nbsp;: <a href="http://posterous.com/">Posterous</a>, <a href="http://uservoice.com/">UserVoice</a>, <a href="http://37signals.com/">37signals</a>, <a href="http://shopify.com/">Shopify</a>, <a href="http://scribd.com/">Scribd</a>, <a href="http://twitter.com/">Twitter</a>, <a href="http://hulu.com/">Hulu</a>, the <a href="http://yellowpages.com/">Yellow Pages</a> (les Pages Jaunes)&mdash;&nbsp;la <a href="http://rubyonrails.org/applications">liste des sites utilisant Rails</a> s'allongent encore et encore. Il y a aussi de nombreux [magasins de développement][web development shops] qui se spécialise en Rails, tels que <a href="http://entp.com/">ENTP</a>, <a href="http://thoughtbot.com/">thoughtbot</a>, <a href="http://pivotallabs.com/">Pivotal Labs</a>, et <a href="http://hashrocket.com/">Hashrocket</a>, sans compter les inombrables consultants indépendants, [entraineurs][trainers] et entrepreneurs.</p>

<p>Qu'est-ce qui rend Rails si fantastique&nbsp;? Tout d'abord, Ruby on Rails est 100% en “open-source”, accessible sous la licence tolérante <a href="http://www.opensource.org/licenses/mit-license.php">MIT License</a>, et comme résultat il ne coûte également rien de le télécharger et de l'utiliser. Rails doit également le plus gros de son succès à son design compacte et élégant&nbsp;; en exploitant la maléabilité de la sous-couche en langage <a href="http://ruby-lang.org/">Ruby</a>, Rails crée de façon effective un <a href="http://en.wikipedia.org/wiki/Domain_Specific_Language">langage de domaine spécifique</a> pour écrire des application web. Il en résulte que de nombreuse tâches courantes de programmation web &mdash;&nbsp;telle que générer du code HTML, faire des modèles de données ou rediriger les URLs&nbsp;&mdash; sont facile avec Rails, et le code de l'application en résultant est concis et lisible.</p>

<p>Rails s'adapte également avec rapidité aux nouveaux développement de la technologie internet et au [design de framework][framework design]. Par exemple, Rails a été l'un des premiers frameworks à digérer et implémenter en totalité l'architecture de style REST pour structurer les applications web  (ce que nous apprendrons à faire au traverse de ce tutoriel). Et quand d'autres framewords développent avec succès de nouvelles technologies, le créateur de Rails, <a href="http://loudthinking.com/">David Heinemeier Hansson</a> , et le <a href="http://rubyonrails.org/core">cœur de l'équipe Rails</a> n'hésite jamais à incorporer à Rails leurs nouvelles idées. Peut-être l'exemple le plus parlant est la fusion  de Rails et Merb, un frameword rival, de telle sorte que Rails bénéficie maintenant du design modulaire de Merb, <a href="http://en.wikipedia.org/wiki/Application_programming_interface">API</a> stable et aux performances améliorées ([quiconque a assisté à une conférence entre le développeur de Merb et le cœur de l'équipe <a href="http://yehudakatz.com/">Yehuda Katz</a> ne peut aider][Anyone who has attended a talk by Merb developer and Rails core team member <a href="http://yehudakatz.com/">Yehuda Katz</a> can&rsquo;t help] mais noter à quel point ce fut une <em>extrêmement</em> bonne idée de monter l'équipe de Merb à bord)</p>

<p>Enfin, Rails bénéficie d'une communauté exceptionnellement enthousiaste et diverse. Les résultats en sont des centaines de  <a href="http://contributors.rubyonrails.org/">contributeurs</a> open-source, des <a href="http://railsconf.com/">conférences</a> largement suivies, un nombre considérable de <a href="http://agilewebdevelopment.com/plugins">plugins</a> et des <a href="http://rubygems.org/">gems</a> (solutions clé-en-main pour des problèmes spécifiques comme la pagination ou le téléchargement d'images), une riche variété de blogs d'information, et une corne d'abandonce débordant de forums de discussions et de canaux de discussion IRC. Le grand nombre de développeurs Rails rend également plus facile l'appréhension des erreurs inévitables des l'applications&nbsp;: l'algorithme &ldquo;Google le message d'erreur&rdquo; renvoie pratiquement toujours vers le message pertinent d'un blog ou un sujet de discussion dans un forum.</p>

<div class="label" id="sec:comments_for_various_readers"></div>


<h3><a id="sec:1.1.1" href="beginning#sec:comments_for_various_readers" class="heading"><span class="number">1.1.1</span> Commentaires pour la grande variété de lecteurs</a></h3>


<p>Le <em>Tutoriel Rails</em> contient des “tutoriels intégrés” non seulement pour Rails, mais aussi pour le langage sous-jacent Ruby, aussi bien que pour  <a href="http://en.wikipedia.org/wiki/HTML">HTML</a>, <a href="http://en.wikipedia.org/wiki/CSS">CSS</a>, un peu de <a href="http://en.wikipedia.org/wiki/JavaScript">JavaScript</a>, et même un peu de <a href="http://en.wikipedia.org/wiki/SQL">SQL</a>. Cela signifie que, quelles que soient vos connaissances en matière de développement web, en finissant ce tutoriel vous serez prêts à utiliser des ressources Rails plus avancées, [tout autant que pour les traitements plus systématiques des autres sujets mentionnées][as well as for the more systematic treatments of the other subjects mentioned].</p>

<p>Rails titre une grande partie de son pouvoir de la &ldquo;magic&rdquo; &mdash;&nbsp;ainsi, les outils du framework (tel que déduire automatiquement les attributs d'un objet des colonnes de la base de données) qui accomplissent des miracles mais dont les mécanismes peuvent paraitre plutôt mystérieux. Le <em>Tutorial Ruby on Rails</em> n'est <em>pas</em> destiné à expliquer cette magie &mdash;&nbsp;principalement parce que la plupart des développeurs d'applications Rails n'ont jamais besoin de savoir ce qui se passe en coulisses (après tout, le langage Ruby lui-même est écrit principalement en langage de programmation C, mais vous n'avez pas besoin de creuser dans le code source en C pour utiliser Ruby.) Si vous êtes [un expert confirmé][a confirmed pull-back-the-curtain kind of person], je vous recommande la lecture de <a href="http://www.amazon.com/gp/product/0321601661?ie=UTF8&amp;tag=httpwwwrailst-20&amp;linkCode=as2&amp;camp=1789&amp;creative=390957&amp;creativeASIN=0321601661"><em>The Rails&nbsp;3 Way</em></a> par Obie Fernandez qui accompagnera avec profit ce <em>Tutoriel Ruby on Rails</em>.</p>

<p>Bien que ce livre ne nécessite pas de requis spéciaux, vous devez bien entendu posséder au moins quelque expérience des ordinateurs. Si vous n'avez même jamais utilisé d'éditeur de texte, ce ne sera pas simple d'avancer, mais avec un peu de détermination vous devriez pouvoir passer à travers. Si, d'un autre côté, votre fichier <code>.emacs</code> est tellement complexe qu'il pourrait faire pleurer un adulte, il y aura toujours des challenges à relever ici. Le <em>Tutoriel Rails</em> est destiné à enseigner le développement Rails quels que soient ses acquis propres, mais l'expérience que vosu ferez de cette lectutre dépendra de [votre attitude][your particular circumstances]. <br /></p>

<p><strong>À tous les lecteurs&nbsp;:</strong> une question classique en étudiant Rails est de savoir s'il faut étudier Ruby au préalable. La réponse dépend de la façon dont vous apprenez. Si vous avez une prédilection pour apprendre tout depuis la base, de façon systématique, alors apprendre le langage Ruby peut vous être utile&nbsp;; plusieurs livres sont recommandés dans cette section pour vous faire commencer. D'un autre côté, de nombreux développeur Rails débutants sont excités à l'idée de créer des applications <em>web</em>, et préfèreront ne pas se coltiner un livre de 500 pages en pur Ruby avant d'écrire la moindre page sur une simple page web. Plus encore, le sous-ensemble de Ruby nécessaire aux développeurs Rails est différent de ce que vous pourriez trouver dans une introduction sur du pur Ruby, tandis que le  <em>Tutoriel Rails</em> se concentre exactement sur ce sous-ensemble. Si votre intérêt  premier est de construire des applications Rails, je vous recommande de commencer par ce <em>Tutoriel Rails</em> et de lire des livres de pur Ruby ensuite. Ce n'est pas une proposition “tout ou rien”, cependant&nbsp;: si vous commencez à lire ce <em>Tutoriel Rails</em> et sentez votre manque de connaissance du Ruby vous ralentir, sentez-vous libre de basculer vers un livre sur le langage Ruby avant de revenir au tutoriel lorsque vous vous sentirez prêts. Vous pouvez aussi vous contenter d'un goût de ce qu'est Ruby en suivant un court tutoriel en ligne, tels que ceux qu'on peut trouver sur les sites <a href="http://www.ruby-lang.org/">http://www.ruby-lang.org/</a> ou <a href="http://rubylearning.com/">http://rubylearning.com/</a>.</p>

<p>Une autre question classique concerne l'utilisation des tests dès le départ. Comme cela est indiqué dans l'introduction, ce <em>Tutoriel Rails</em> fait appel au “Test Dirigeant le Développement” (“test-driven development”) (appelé aussi “test-first development”), qui selon moi est la meilleure façon de développer des applications Rails, mais le fait est que cette approche introduit [un montant substanciel de complexité][a substantial amount of overhead and complexity]. Si vous sentez que vous vous enlisez à cause des tests, sentez-vous libre de les sauter dans une première lecture.<sup class="footnote" id="fnref:1.4"><a href="#fn:1.4">4</a></sup> Vraiment, certains lecteurs se sentent dans un premier temps écrasés par l'inclusion de tellement de parties mouvantes [[est-ce une référence/résonnance à s'enliser?]] &mdash;&nbsp;telles que les tests, les contrôles de versions, le déploiement&nbsp;&mdash;, et si vous vous rendez compte que vous dépensez une énergie excessive sur toutes ces étapes, <em>n'hésitez pas à les passer</em>. Bien que j'ai inclu seulement le matériel que je considère essentiel au développement d'un niveau professionnel d'une application Rails, seul le cœur du code de l'application est strictement nécessaire à la première lecture. <br /></p>

<p><strong>Aux programmeurs non expérimentés (non-designers)&nbsp;:</strong> ce <em>Tutoriel Rails</em> n'exige aucun autre background qu'une connaissance générale de l'ordinateur, donc si vous avez une expérience limitée de la programmation ce livre est un bon endroit pour commencer. Gardez à l'esprit que c'est seulement la première étape d'un long voyage&nbsp;; le développement web possède de nombreuses [parties mouvantes][moving parts], incluant HTML/CSS, JavaScript, les bases de données (et SQL), les contrôles de version, et le déploiement. Ce livre contient de courtes introductions sur ces sujets, mais il y a bien plus à connaitre. <br /></p>

<p><strong>Aux programmeurs non expérimentés (designers)&nbsp;: </strong> vos aptitudes en matière de design web vous donnent une longueur d'avance, puisque vous connaissant certainement déjà le HTML et les CSS. Après avoir fini ce livre, vous serez dans une excellente position pour travailler sur des projets Rails existants et pourrez probablement en commencer de votre propre chef. Vous pouvez trouver difficile tout ce qui concerne la programmation, mais le langage Ruby est exceptionnellement accessible aux débutants, tout spécialement ceux qui possèdent une fibre artistique.<br /></p>

<p>Après avoir achevé la lecture du <em>Tutoriel Ruby on Rails</em>, je recommande aux nouveaux programmeurs la lecture de <a href="http://www.amazon.com/gp/product/1430223634?ie=UTF8&amp;tag=httpwwwrailst-20&amp;linkCode=as2&amp;camp=1789&amp;creative=9325&amp;creativeASIN=1430223634"><em>Beginning Ruby</em></a> de Peter Cooper, qui partage la même philosophie pédagogique que ce <em>Tutoriel Rails</em>. Je recommande aussi <a href="http://www.amazon.com/gp/product/B000P28V8Q?ie=UTF8&amp;tag=httpwwwrailst-20&amp;linkCode=as2&amp;camp=1789&amp;creative=9325&amp;creativeASIN=B000P28V8Q"><em>The Ruby Way</em></a> de Hal Fulton. Enfin, pour acquérir une compréhension plus profonde de Rails je recommande <a href="http://www.amazon.com/gp/product/0321601661?ie=UTF8&amp;tag=httpwwwrailst-20&amp;linkCode=as2&amp;camp=1789&amp;creative=390957&amp;creativeASIN=0321601661"><em>The Rails&nbsp;3 Way</em></a> de Obie Fernandez.</p>

<p>Les applications Web, même les relativement simples, sont de par nature assez complexes. Si vous êtes tout à fait nouveau dans la programmation web et trouver trop complexe la lecture de ce <em>Tutoriel Rails</em>, c'est peut-être que vous n'êtes peut-être pas tout à fait prêts encore à développer des applications web. Dans ce cas, je vous suggère d'apprendre les bases du HTML et des CSS et de recommencer la lecture de ce tutoriel (malheureusement, je n'ai pas de recommandation particulières ici, mais <a href="http://headfirstlabs.com/books/hfhtml/"><em>Head First HTML</em></a> semble prometteur, et un des lecteurs recommande <a href="http://www.amazon.com/gp/product/0596526873?ie=UTF8&amp;tag=httpwwwrailst-20&amp;linkCode=as2&amp;camp=1789&amp;creative=390957&amp;creativeASIN=0596526873"><em>CSS: The Missing Manual</em></a> de David Sawyer McFarland.) Vous pouvez aussi lire avec profit les premiers chapitres de <a href="http://www.amazon.com/gp/product/1430223634?ie=UTF8&amp;tag=httpwwwrailst-20&amp;linkCode=as2&amp;camp=1789&amp;creative=9325&amp;creativeASIN=1430223634"><em>Beginning Ruby</em></a>, qui début avec l'exemple d'une application plus petite qu'une application web au sens fort du mot. <br /></p>

<p><strong>Aux programmeurs expérimentés découvrant le développement web&nbsp;:</strong> votre expérience signifie que vous comprenez probablement déjà les concepts tels que les classes, les méthodes, les structures de données, etc., ce qui constitue un avantage sérieux. Soyez tout de même avertis, dans le cas où votre background est le C/C++ ou le Java, que vous pourriez trouver le langage Ruby un peu comme un canard boiteux, et cela peut prendre du temps pour le prendre en main&nbsp;; familiarisez-vous juste avec lui, et tout devrait aller pour le mieux (Ruby vous autorise même à mettre des points-virgule à la fin des lignes s'ils vous manquent trop&nbsp;!). Ce <em>Tutoriel Rails</em> couvre toutes les idées spécifiques au développement web dont vous avez besoin, donc ne vous inquiétez pas si vous ne distinguez par pour le moment une requête <tt>PUT</tt> d'une requête <tt>POST</tt>.<br /></p>

<p><strong>Aux développeurs web expérimentés découvrant Rails&nbsp;:</strong> vous avez une sérieuse longueur d'avance, tout spécialement si vous avez utilisé un langage dynamique tel que le PHP ou (encore mieux) le langage Python. Les bases de ce que nous couvrons vous seront pour le moins familières, mais le développement par le test (Test Dirigeant le Développement, TDD) sera peut-être nouveau pour vous, comme peut l'être aussi le style structuré REST privilégié par Rails. Ruby possède également sa propre idiosyncrasie, elle sera peut-être aussi nouvelle pour vous.<br /></p>

<p><strong>Aux programmeurs Ruby expérimentés&nbsp;:</strong> l'ensemble des programmeurs Ruby ne connaissant pas Rails est très restreint de nos jours, mais si vous faites partie de ce groupe d'élite, vous pouvez survoler ce livre et vous diriger ensuite sur le livre <a href="http://www.amazon.com/gp/product/0321601661?ie=UTF8&amp;tag=httpwwwrailst-20&amp;linkCode=as2&amp;camp=1789&amp;creative=390957&amp;creativeASIN=0321601661"><em>The Rails&nbsp;3 Way</em></a> de Obie Fernandez. <br /></p>

<p><strong>Aux programmeurs Rails inexpérimentés&nbsp;:</strong> vous avez peut-être lu d'autres tutoriels et créé quelques petites applications Rails. En me basant sur le retour des lecteurs, je suis confiant sur le fait que vous pourrez tirer beaucoup de ce livre. Parmi d'autres choses, les techniques employées ici sont peut être plus d'actualité que celles que vous avez abordés quand vous avez appris Rails initialement. <br /></p>

<p><strong>Aux programmeurs Rails expérimentés&nbsp;:</strong> ce livre ne vous sera pas utile, et pourtant, de nombreux développeurs Rails expérimentés m'ont exprimé leur surprise quant à la quantité de choses qu'ils avaient tirés de ce livre, et vous pourriez être ravis d'aborder Rails sous un autre jour [une autre perspective]. <br /></p>

<p>Après avoir terminé ce <em>Tutoriel Ruby on Rails</em>, je recommande aux programmeurs (non Ruby) expérimentés la lecture de <a href="http://www.amazon.com/gp/product/1933988657?ie=UTF8&amp;tag=httpwwwrailst-20&amp;linkCode=as2&amp;camp=1789&amp;creative=9325&amp;creativeASIN=1933988657"><em>The Well-Grounded Rubyist</em></a> de David&nbsp;A. Black, qui est une excellent et profonde discussion sur Ruby depuis la base, ou <a href="http://www.amazon.com/gp/product/B000P28V8Q?ie=UTF8&amp;tag=httpwwwrailst-20&amp;linkCode=as2&amp;camp=1789&amp;creative=9325&amp;creativeASIN=B000P28V8Q"><em>The Ruby Way</em></a> de Hal Fulton, qui est tout aussi avancé mais adopte une approche plus actuelle. Passez ensuite à <a href="http://www.amazon.com/gp/product/0321601661?ie=UTF8&amp;tag=httpwwwrailst-20&amp;linkCode=as2&amp;camp=1789&amp;creative=390957&amp;creativeASIN=0321601661"><em>The Rails&nbsp;3 Way</em></a> pour approfondir encore votre expertise de Rails.<br /></p>

<p>À la fin de ce processus, quel que soit d'où vous partiez, vous serez en mesure d'appréhender les ressources Rails plus avancées. Voilà celle que je recommande particulièrement&nbsp;:</p>

<ul>

<li><a href="http://railscasts.com/">Railscasts</a>&nbsp;: d'excellents screencats gratuits sur Rails</li>
<li><a href="http://peepcode.com/">PeepCode</a>, <a href="http://pragmatic.tv/">Pragmatic.tv</a>, <a href="http://envycasts.com/">EnvyCasts</a>&nbsp;: d'excellent screencasters payants</li>
<li><a href="http://guides.rubyonrails.org/">Rails Guides</a>&nbsp;: bonnes références sur Rails, d'actualité et actualisées. Ce <em>Tutoriel Rails</em> fait fréquemment référence au <em>Rails Guides</em> pour un traitement plus en profondeur de certains sujets.</li>
<li><a href="http://www.google.com/search?q=ruby+on+rails+blogs">Rails blogs</a>&nbsp;: trop de choses à énumérer, et d'excellentes choses. </li>

</ul>




<h3><a id="sec:1.1.2" href="beginning#sec:1.1.2" class="heading"><span class="number">1.1.2</span> “Mise à l'échelle” (&ldquo;Scaling&rdquo;) de Rails</a></h3>


<p>Avant de poursuivre avec la suite de l'introduction, j'aimerais m'arrêter un moment un problème qui collait au framework Rails à ses tout débuts&nbsp;: sa supposée inaptitude à se [“mettre à l'échelle”] &mdash;&nbsp;pour, par exemple, absorber un trafic important. Une partie de cette question repose sur une idée tout à fait fausse&nbsp;; <a href="http://idleprocess.wordpress.com/2009/11/24/presentation-summary-high-performance-at-massive-scale-lessons-learned-at-facebook/">vous mettez à l'échelle <em>un site</em>, pas un framework</a>, et Rails, aussi intelligent soit-il, n'est qu'un framework. Donc la vraie question aurait dû être &ldquo;Est-ce qu'un site construit en Rails peut se mettre à l'échelle&nbsp;?&rdquo;. Dans ce cas, la question a été résolue définitivement par l'affirmative&nbsp;: quelques uns des sites les plus lourds en trafic dans le monde utilisent Rails. En fait, <em>rendre</em> la mise à l'échelle possible va bien au-delà du champ d'application de Rails seulement, mais soyez assurés que si <em>votre</em> application connait un trafic similaire à celui de Hulu ou des Yellow Pages (“Les Pages jaunes”), Rails [ne vous empêchera nullement de vous charger du monde entier][won&rsquo;t stop you from taking over the world].</p>

<div class="label" id="sec:conventions"></div>


<h3><a id="sec:1.1.3" href="beginning#sec:conventions" class="heading"><span class="number">1.1.3</span> Conventions utilisées dans ce livre</a></h3>


<p>Les conventions de ce livre s'explique la plupart du temps d'elles-mêmes&nbsp;; dans cette section, je mentionne celles qui ne le pourraient pas.</p>

<p>Les éditions <a href="http://railstutorial.org/book">HTML</a> et <a href="http://railstutorial.org/">PDF</a> de ce livre sont pleines de liens, vers des sections internes (telles que <a class="ref" href="beginning#sec:up_and_running">Section&nbsp;1.2</a>) aussi bien que des sites externes (tels que la page principale <a href="http://rubyonrails.org/download">Télécharger Ruby on Rails</a>).<sup class="footnote" id="fnref:1.5"><a href="#fn:1.5">5</a></sup></p>

<p>De nombreux exemples de ce livre utilisent la “commande en ligne”. Pour la simplicité, tous les exemples en ligne de commande utilisent l'invite classique Unix (un dollar), comme suit&nbsp;:</p>

<div class="code"><div class="highlight"><pre><span class="gp">$</span> <span class="nb">echo</span> <span class="s2">&quot;bonjour le monde&quot;</span>
<span class="go">bonjour le monde</span>
</pre></div>
</div>


<p>Les utilisateurs Windows doivent savoir que leur système utilisera l'invite analogue&nbsp;<tt>&gt;</tt>&nbsp;:</p>

<div class="code"><div class="highlight"><pre><span class="go">C:\Sites&gt;echo Salut le monde</span>
<span class="go">Salut le monde</span>
</pre></div>
</div>


<p>Sur les systèmes d'exploitation Unix, certaines commandes devront être exécutées avec <code>sudo</code>, qui signifie &ldquo;substitute user do&rdquo; (“L'utilisateur de substition fait…”). Par défaut, une commande exécutée avec  <code>sudo</code> est jouée comme par un utilisateur-administrateur, qui a accès à des fichiers et des dossiers que les utilisateurs normaux ne peuvent pas toucher. Pour indiquer cela l'utilisateur de <code>sudo</code> est dépendant de votre système, cela apparaitra entre crochets quand il peut être (ou ne pas être) nécessaire sur votre système en particulier, comment dans l'exemple de la <a class="ref" href="beginning#sec:rubygems">section&nbsp;1.2.2</a>:</p>

<div class="code"><div class="highlight"><pre><span class="gp">$</span> <span class="o">[</span>sudo<span class="o">]</span> ruby setup.rb
</pre></div>
</div>


<p>La plupart des systèmes d'exploitation Unix/Linux/Os&nbsp;X requièrent la commande <code>sudo</code> par défaut, sauf si vous utilisez le <em>Ruby Version Manager</em> comme cela est suggéré dans la <a class="ref" href="beginning#sec:install_ruby">section&nbsp;1.2.2.3</a>. Notez que vous ne devez <em>pas</em> utiliser les crochets&nbsp;; vous devez utiliser soit…</p>

<div class="code"><div class="highlight"><pre><span class="gp">$</span> sudo ruby setup.rb
</pre></div>
</div>


<p>soit…</p>

<div class="code"><div class="highlight"><pre><span class="gp">$</span> ruby setup.rb
</pre></div>
</div>


<p>… en fonction de votre système d'exploitation.</p>

<p>Rails vient avec un grand nombre de commandes qui peuvent être jouées en ligne de commande. Par exemple, dans la <a class="ref" href="beginning#sec:rails_server">section&nbsp;1.2.5</a> nous lancerons un serveur web local de développement comme suit&nbsp;:</p>

<div class="code"><div class="highlight"><pre><span class="nv">$ </span>rails server
</pre></div>
</div>


<p>Comme pour l'invite de la commande en ligne, ce <em>Tutoriel Rails</em> utilise la convention Unix convention pour les séparateurs de dossiers (c'est-à-dire une balance&nbsp;<tt>/</tt>). Mon application exemple personnelle développée dans ce tutoriel, par exemple, se trouve dans&nbsp;:</p>

<pre class="verbatim">/Users/mhartl/rails_projects/sample_app</pre>


<p>Sur Windows, l'adresse du dossier analogue devrait être&nbsp;:</p>

<pre class="verbatim">C:\Sites\sample_app</pre>


<p>Le dossier racine pour toute application donnée est connue comme la <em>racine Rails</em> (<em>Rails root</em>), et désormais tous les chemins d'accès seront relatifs à ce dossier (notez en particulier que la &ldquo;racine Rails&rdquo; n'est <em>pas</em> le dossier racine du frameword Rails lui-même). Par exemple, le dossier <code>config</code> de mon application exemple est&nbsp;:</p>

<pre class="verbatim">/Users/mhartl/rails_projects/sample_app/config</pre>


<p>La racine Rails est ici ce qui se trouve avant <code>config</code>, c'est-à-dire&nbsp;:</p>

<pre class="verbatim">/Users/mhartl/rails_projects/sample_app</pre>


<p>Par souci de brièveté, quand nous ferons référence au fichier…</p>

<pre class="verbatim">/Users/mhartl/rails_projects/sample_app/config/routes.rb</pre>


<p>… nous omettrons la racine Rails et écrirons simplement <code>config/routes.rb</code>.</p>

<p>Pour finir, ce <em>Tutoriel Rails</em> montre souvent les sorties (les résultats) de programmes variés (commandes shell, état de contrôle de version, programmes Ruby, etc.). À cause des inombrables petites différences entre les différents systèmes d'exploitation, la sortie que vous obtiendrez ne coïncidera pas toujours avec ce qui sera montré dans le texte, mais il n'y a aucune raison de s'en pré-occuper. Additionnellement, certaines commandes pourrons produire des erreurs en fonction de votre système&nbsp;; plutôt que d'essayer la tâche <a href="http://en.wikipedia.org/wiki/Sisyphus">Sisyphéenne</a> de documenter tous ces types d'erreurs dans ce tutoriel, je délèguerai cette tâche à l'algorithme &ldquo;Google le message d'erreur&rdquo;, qui est, parmi d'autres choses, une bonne pratique dans le développement grandeur nature de logiciel.</p>

<div class="label" id="sec:up_and_running"></div>


<h2><a id="sec:1.2" href="beginning#sec:up_and_running" class="heading"><span class="number">1.2</span> [Prêts pour le départ][Up and running]</a></h2>

<p>Le temps est venu d'aborder l'environnement de développement Ruby on Rails et notre première application. Il y a quelques casse-têtes ici, spécialement si vous n'avez pas une expérience étendue de la programmation, donc ne vous découragez pas si cela vous demande un moment avant de pouvoir réellement démarrer. Ça ne vous concerne pas vous en particulier&nbsp;; tout développeur doit en passer par là (et souvent plus d'une fois), mais soyez assuré que les efforts seront richement récompensés.</p>

<div class="label" id="sec:development_tools"></div>


<h3><a id="sec:1.2.1" href="beginning#sec:development_tools" class="heading"><span class="number">1.2.1</span> Les environnements de développement</a></h3>


<p>En prenant en compte la grande variété des personnalisations possibles, il existe au moins autant d'environnements de développement que de programmeurs Rails, mais il se dégage tout de même deux thèmes principaux&nbsp;: les environnements à base d'éditeur de texte/ligne de commande, et les environnements de développement intégrés (IDEs). Considérons d'abord le second.</p>

<h4><a id="sec:1.2.1.1" href="beginning#sec:1.2.1.1" class="heading">IDEs</a></h4>


<p>Les IDEs Rails ne manquent pas, incluant <a href="http://www.aptana.com/rails/">RadRails</a>, <a href="http://www.jetbrains.com/ruby/index.html">RubyMine</a>, et <a href="http://www.codegear.com/products/3rdrail">3rd Rail</a>. Tous sont “cross-platform” (NdT. Utilisables sur n'importe quel système), et j'ai entendu dire du bien de quelques uns d'entre eux. Je vous encourage à les essayer s'ils fonctionnent pour vous, mais j'ai une confession à vous faire&nbsp;: je n'ai jamais trouvé un IDE qui me permette de satisfaire tous mes besoin en matière de développement Rails &mdash;&nbsp;et pour certains projets je n'ai pas même été capable de les faire fonctionner.</p>

<h4><a id="sec:1.2.1.2" href="beginning#sec:1.2.1.2" class="heading">Éditeurs de texte et ligne de commande</a></h4>


<p>Que devons-nous utiliser alors pour remplacer ces IDE tout-en-un&nbsp;? Je parierai que la majorité des développeurs Rails ont opté pour la même solution que moi&nbsp;: utiliser un <em>éditeur de texte</em> pour éditer le texte, et une <em>ligne de commande</em> pour exécuter des commandes (<a class="ref" href="beginning#fig:editor_shell">Illustration&nbsp;1.1</a>). La combinaison que vous utiliserez dépendra de vos goûts et de votre plate-forme&nbsp;:</p>

<ul>
<li><strong>Macintosh OS&nbsp;X&nbsp;:</strong> comme beaucoup de développeurs Rails, j'ai une préférence pour <a href="http://macromates.com/">TextMate</a>. D'autres options incluent Emacs et  <a href="http://code.google.com/p/macvim/">MacVim</a> (chargé avec la commande <code>mvim</code>), l'excellente version Macintosh de Vim.<sup class="footnote" id="fnref:1.6"><a href="#fn:1.6">6</a></sup> J'utilise <a href="http://iterm.sourceforge.net/">iTerm</a> comme terminal de ligne de commande&nbsp;; d'autres affectionnent l'application native “Terminal”.</li>

<li><strong>Linux&nbsp;:</strong> vos options d'édition sont à la base les mêmes que pour les OS&nbsp;X, à l'exception de TextMate. Je recommande “graphical Vim” (gVim), <a href="http://projects.gnome.org/gedit/">gedit</a> (avec le plugin <a href="http://blog.siverti.com.br/gmate/">GMate</a>), ou <a href="http://kate-editor.org/">Kate</a>. En terme de ligne de commande, vous devez déjà être totalement équipés&nbsp;: toute distribution Linux est fournie avec une application terminal de ligne de commande (et même souvent plusieurs).</li>

<li><strong>Windows&nbsp;:</strong> Certains éditeurs prometteurs sur Windows sont <a href="http://www.vim.org/download.php#pc">Vim</a>, le <a href="http://www.e-texteditor.com/">E&nbsp;Text Editor</a>, <a href="http://www.activestate.com/komodo_edit/">Komodo Edit</a>, et <a href="http://www.sublimetext.com/">Sublime Text</a>. Pour les lignes de commande, je recommande d'utiliser l'invite fournie avec <a href="http://railsinstaller.org/">Rails Installer</a> (<a class="ref" href="beginning#sec:rails_installer_windows">Section&nbsp;1.2.2.1</a>).  </li>

</ul>


<p>Si vous avez une connaissance de Vim, assurez-vous de puiser dans la florissante communauté des <a href="http://www.google.com/search?q=vim+rails">Vim-using Rails hackers</a>. Attardez-vous spécialement sur les améliorations de <a href="http://www.vim.org/scripts/script.php?script_id=1567">rails.vim</a> et le projet à tiroir <a href="http://www.vim.org/scripts/script.php?script_id=1658">NERD tree</a>.</p>

<div class="label" id="fig:editor_shell"></div>


<div class="figure"><div class="center"><span class="graphic"><img src="/images/figures/editor_shell.png" alt="editor_shell" /></span></div><div class="caption"><span class="header">Illustration 1.1: </span><span class="description">Un environnement de développement éditeur de texte/ligne de commande (TextMate/iTerm).  <a href="http://railstutorial.org/images/figures/editor_shell-full.png">(taille normale)</a></span></div></div>




<h4><a id="sec:1.2.1.3" href="beginning#sec:1.2.1.3" class="heading">Navigateurs internet</a></h4>


<p>Bien qu'on puisse choisir dans une large panoplie de navigateurs, la majorité des développeurs Rails font appel à Firefox, Safari ou Chrome pour développer leurs applications. Les copies d'écran dans ce tutoriel Rails proviennent en général de Firefox. Si vous utilisez Firefox, je vous suggère d'utiliser l'add-on <a href="http://getfirebug.com/">Firebug</a>, qui vous permet de faire tout un tas de choses magiques, comment inspecter dynamiquement (ou même modifier) la structure HTML et les règles CSS de n'importe quelle page. Pour ceux qui n'utilisent pas Firefox, <a href="http://getfirebug.com/firebuglite">Firebug Lite</a> fonctionne avec la plupart des autres navigateurs, et Safari comme Chrome ont de façon native un outil d'inspection des éléments accessible en cliquant-droit sur n'importe quelle partie de la page. Quel que soit le navigateur utilisé, l'expérience démontre que le temps passé à apprendre à se servir d'un outil d'inspection est rapidement et richement récompensé.</p>

<h4><a id="sec:1.2.1.4" href="beginning#sec:1.2.1.4" class="heading">Une note à propos des outils</a></h4>


<p>Dans le processus de rendre opérationnel votre environnement de développement, vous constaterez peut-être que vous dépensez <em>beaucoup</em> de temps à simplement faire que les choses fonctionnent. Le processus d'apprentissage des éditeurs et des IDEs est particulièrement long&nbsp;; vous pourrez passer des semaines sur des tutoriels TextMate ou Vim. Si ce jeu est tout nouveau pour vous, je tiens à vous assurer que <em>passer du temps à apprendre à connaitre ses outils est normal</em>. Tout le monde y passe. Parfois cela est frustrant, et il est facile de perdre patience quand vous avez en tête le projet d'une magnifique application web et que vous <em>juste apprendre Rails tout de suite</em>, mais que vous avez à prendre une semaine sur un ancien et bizarre éditeur de texte Unix pour pouvoir seulement commencer. Mais un artisan se doit de connaitre ses outils&nbsp;; au bout du compte, le jeu en vaut la chandelle.</p>

<div class="label" id="sec:rubygems"></div>


<h3><a id="sec:1.2.2" href="beginning#sec:rubygems" class="heading"><span class="number">1.2.2</span> Ruby, RubyGems, Rails, et Git</a></h3>


<p>Maintenant, il est temps d'installer Ruby <em>et</em> Rails. La source canonique et actualisée pour cela la <a href="http://rubyonrails.org/download">page de téléchargement de Ruby on Rails</a>. Je présume que vous pouvez y aller dès à présent&nbsp;; les parties de ce livre peuvent être lues avec profit en offline (NdT. En étant déconnecté), mais pas celle-ci. Je vais juste injecter certains commentaires personnels sur cette étapes.</p>

<div class="label" id="sec:rails_installer_windows"></div>


<h4><a id="sec:1.2.2.1" href="beginning#sec:rails_installer_windows" class="heading">Installeur Rails (Windows)</a></h4>


<p>L'installation de Rails sur Windows était auparavant une calamité, mais grâce aux efforts de bonnes personnes à <a href="http://engineyard.com/">Engine Yard</a> &mdash;&nbsp;spécialement Dr.&nbsp;Nic Williams et Wayne&nbsp;E. Seguin&nbsp;&mdash; l'installation de Rails et des logiciels afférants sur Windows est maintenant incroyablement facile. Si vous êtes sous Windows, allez au <a href="http://railsinstaller.org/">Rails Installer</a> (<a href="http://railsinstaller.org/">http://railsinstaller.org/</a>) et téléchargez l'exécutable Rails Installer. Double-clickez l'exécutable et suivez les instructions d'installation pour installer Git (vous pourrez donc passer la <a class="ref" href="beginning#sec:install_git">section&nbsp;1.2.2.2</a>), Ruby (passer la <a class="ref" href="beginning#sec:install_ruby">section&nbsp;1.2.2.3</a>), RubyGems (passez la <a class="ref" href="beginning#sec:install_rubygems">section&nbsp;1.2.2.4</a>), et Rails lui-même (passez la <a class="ref" href="beginning#sec:install_rails">section&nbsp;1.2.2.5</a>). Une fois l'installation terminée, vous pouvez directement passer à la création de la première application à la <a class="ref" href="beginning#sec:the_first_application">section&nbsp;1.2.3</a>.</p>

<div class="label" id="sec:install_git"></div>


<h4><a id="sec:1.2.2.2" href="beginning#sec:install_git" class="heading">Installation de Git</a></h4>


<p>Le plus gros de l'écosystème Rails repose d'une manière ou d'une autre sur un <a href="http://en.wikipedia.org/wiki/Revision_control">système de contrôle de version</a> appelé <a href="http://git-scm.com/">Git</a> (couvert plus en détail dans la <a class="ref" href="beginning#sec:version_control">section&nbsp;1.3</a>). Puisque son usage est omniprésent, vous devriez installer Git même à ce point de départ&nbsp;; je vous suggère de suivre les instructions d'installation propres à votre plate-forme que vous trouverez à cette adresse&nbsp;: <a href="http://progit.org/book/ch1-4.html">Installing Git section of <em>Pro Git</em></a>.</p>

<div class="label" id="sec:install_ruby"></div>


<h4><a id="sec:1.2.2.3" href="beginning#sec:install_ruby" class="heading">Installer Ruby</a></h4>


<p>L'étape suivante consiste à installer Ruby. Il est possible que votre système le possède déjà&nbsp;; essayez d'exécuter la commande…</p>

<div class="code"><div class="highlight"><pre><span class="gp">$</span> ruby -v
<span class="go">ruby 1.9.2</span>
</pre></div>
</div>


<p>… pour voir le numéro de version de votre Ruby. Rails&nbsp;3 requiert  Ruby&nbsp;1.8.7 ou plus récent et fonctionne mieux avec Ruby&nbsp;1.9.2. Ce tutoriel pré-suppose que vous utilisez la dernière version de développent de Ruby&nbsp;1.9.2, connu sous le nom Ruby&nbsp;1.9.2-head, mais Ruby&nbsp;1.8.7 devrait fonctionner tout aussi bien.</p>

<p>La branche Ruby&nbsp;1.9 est en développement lourd, donc malheureusement installer la dernière version de Ruby peut relever du challenge. Vous devrez compter alors sur les instructions les plus actualisées qu'on trouve en ligne. Ce qui suit est une série d'étapes que j'ai exécutées pour le fonctionnement sur mon système (Macintosh OS&nbsp;X), mais vous aurez peut-être à chercher à droite et à gauche pour qu'elles fonctionnent sur le vôtre.</p>

<p>Dans le cadre de l'installation de Ruby, si vous utilisez OS&nbsp;X ou Linux je recommande fortement l'installation de Ruby en utilisant le <a href="http://rvm.beginrescueend.com/">Ruby Version Manager (RVM)</a>, qui vous permet d'installer et gérer plusieurs versions de Ruby sur la même machine (le projet <a href="http://github.com/vertiginous/pik">Pik</a> accomplit la même chose sous Windows). Cela est particulièrement important si vous voulez faire tourner Rails&nbsp;3 et Rails&nbsp;2.3 sur le même ordinateur. Si vous voulez emprunter cette voie, Je vous suggère l'utilisation de RVM pour installer deux combinaisons Ruby/Rails&nbsp;: Ruby&nbsp;1.8.7/Rails&nbsp;2.3.10 et Ruby&nbsp;1.9.2/Rails&nbsp;3.0.5. Si vous rencontrez le moindre problème avec  RVM, vous pouvez souvent trouver son créateur, Wayne&nbsp;E. Seguin, sur le canal IRC de RVM (<a href="http://webchat.freenode.net/?channels=rvm">#rvm on freenode.net</a>).<sup class="footnote" id="fnref:1.7"><a href="#fn:1.7">7</a></sup></p>

<p>Après l'<a href="http://rvm.beginrescueend.com/rvm/install/">l'installation de RVM</a>, vous pouvez installer Ruby de cette manière&nbsp;:<sup class="footnote" id="fnref:1.8"><a href="#fn:1.8">8</a></sup></p>

<div class="code"><div class="highlight"><pre><span class="gp">$</span> rvm get head
<span class="gp">$</span> rvm reload
<span class="gp">$</span> rvm install 1.8.7
<span class="gp">$</span> rvm install 1.9.2
<span class="go">&lt;wait a while&gt;</span>
</pre></div>
</div>


<p>Les deux premières commandes actualisent et rechargent RVM lui-même, ce qui constitue une bonne pratique puisque RVM est fréquemment actualisé. Les deux commandes finales procèdent à l'installation de Ruby&nbsp;; en fonction de votre système, cela peut prendre plus ou moins de temps pour télécharger et compiler les sources, donc ne vous inquiétez pas si ça vous semble une éternité (soyez également informé que beaucoup de peites choses peuvent aller de travers. Par exemple, sur mon système la dernier version de Ruby&nbsp;1.8.7 ne voudra pas se compiler&nbsp;; au lieu de ça, après bien des recherches et des lamentations, j'ai découvert que j'avais besoin du &ldquo;patchlevel&rdquo; numéro 174:</p>

<div class="code"><div class="highlight"><pre><span class="gp">$</span> rvm install 1.8.7-p174
</pre></div>
</div>


<p>Quand de telles choses vous arrive, c'est toujours très frustrant (NdT. Oh que oui&nbsp;!), mais au moins, vous saurez que ça n'arrive pas qu'à vous.</p>

<p>Typiquement, les programmes Ruby sont distribués via des <em>gems</em>, qui sont des packages autonomes de code Ruby. Puisque des gems avec des numéros de versions différents peuvent parfois entrer en conflit, il est souvent pratique de créer des <em>gemsets</em> séparés, qui sont des bundles autonomes de gems. En particulier, Rails est distribué comme un gem, et il y a des conflits entre  Rails&nbsp;2 et Rails&nbsp;3, donc si vous voulez lancer plusieurs version de Rails sur le même système vous aurez besoin de créer une gemset différent pour chacun&nbsp;:</p>

<div class="code"><div class="highlight"><pre><span class="gp">$</span> rvm --create 1.8.7-p174@rails2tutorial
<span class="gp">$</span> rvm --create use 1.9.2@rails3tutorial
</pre></div>
</div>


<p>La première commande crée le gemset <code>rails2tutorial</code> associé à Ruby&nbsp;1.8.7-p174, tandis que la seconde commande crée le gemset <code>rails3tutorial</code> associé à Ruby&nbsp;1.9.2 et l'utilise (via la commande <code>use</code>) en même temps. RVM supporte une large variété de commandes pour manipuler les gemsets&nbsp;; voyez la documentation à l'adresse <a href="http://rvm.beginrescueend.com/gemsets/">http://rvm.beginrescueend.com/gemsets/</a>.</p>

<p>Dans ce tutoriel, nous voulons que notre système utilise Ruby&nbsp;1.9.2 et Rails&nbsp;3.0 par défaut, ce que nous pouvons définir comme suit&nbsp;:</p>

<div class="code"><div class="highlight"><pre><span class="gp">$</span> rvm --default use 1.9.2@rails3tutorial
</pre></div>
</div>


<p>Cela définit simultanéement la version de Ruby par défaut à la version 1.9.2 et le gemset par défaut à <code>rails3tutorial</code>.</p>

<p>En passant, si vous vous retrouvez coincé avec RVM, exécuter des commandes comme les suivantes devraient vous permettre de retrouver toutes vos facultés&nbsp;:</p>

<div class="code"><div class="highlight"><pre><span class="gp">$</span> rvm --help
<span class="gp">$</span> rvm gemset --help
</pre></div>
</div>


<div class="label" id="sec:install_rubygems"></div>


<h4><a id="sec:1.2.2.4" href="beginning#sec:install_rubygems" class="heading">Installation de RubyGems</a></h4>


<p>RubyGems est un gestionnaire de packages pour les projets Ruby, et il y a légion d'excellente librairies (Rails inclus) accessible comme packages Ruby, ou comme <em>gems</em>. L'installation de RubyGems devrait être facile une fois Ruby installé. En fait, si vous avez <a href="http://rvm.beginrescueend.com/rvm/install/">installé RVM</a>, vous avez déjà RubyGems, puis RVM l'inclut automatiquement&nbsp;:</p>

<div class="code"><div class="highlight"><pre><span class="gp">$</span> which gem
<span class="go">/Users/mhartl/.rvm/rubies/ruby-head/bin/gem</span>
</pre></div>
</div>

<p>Si vous ne l'avez pas encore, vous devez <a href="http://rubyforge.org/frs/?group_id=126">télécharger RubyGems</a>, l'extraire, puis aller dans le dossier <code>rubygems</code> pour lancer le programme d'installation&nbsp;:</p>

<div class="code"><div class="highlight"><pre><span class="gp">$</span> <span class="o">[</span>sudo<span class="o">]</span> ruby setup.rb
</pre></div>
</div>


<p>Si RubyGems est déjà installé, vous pouvez vouloir actualiser votre système avec la dernière version&nbsp;:</p>

<div class="code"><div class="highlight"><pre><span class="gp">$</span> <span class="o">[</span>sudo<span class="o">]</span> gem update --system
</pre></div>
</div>


<p>Pour finir, si vous utilisez Ubuntu Linux, vous devriez jeter un coup d'œil à <a href="http://toranbillups.com/blog/archive/2010/09/01/How-to-install-Rails-3.0-and-Ruby-1.9.2-on-Ubuntu">the Ubuntu/Rails&nbsp;3.0 blog post by Toran Billups</a> pour des instructions complètes sur l'installation.</p>

<div class="label" id="sec:install_rails"></div>


<h4><a id="sec:1.2.2.5" href="beginning#sec:install_rails" class="heading">Installer Rails</a></h4>


<p>Une fois RubyGems installé, l'installation de Rails&nbsp;3.0 devrait être un jeu d'enfant&nbsp;:</p>

<div class="code"><div class="highlight"><pre><span class="gp">$</span> <span class="o">[</span>sudo<span class="o">]</span> gem install rails --version 3.0.5
</pre></div>
</div>


<p>Pour vérifier si tout a fonctionné, exécutez la commande suivante&nbsp;:</p>

<div class="code"><div class="highlight"><pre><span class="gp">$</span> rails -v
<span class="go">Rails 3.0.5</span>
</pre></div>
</div>


<div class="label" id="sec:the_first_application"></div>


<h3><a id="sec:1.2.3" href="beginning#sec:the_first_application" class="heading"><span class="number">1.2.3</span> La première application</a></h3>


<p>Grosso-modo, toutes les applications Rails commencent de la même manière, par une commande <code>rails</code>. Ce programme pratique crée un squelette de l'application Rails dans le dossier de votre choix. Pour commencer, faite un dossier pour votre projet Rails et exécutez la commande <code>rails</code> pour créer la première application&nbsp;:</p>

<div class="label" id="code:rails_script"></div>


<div class="codelisting">
<div class="listing"><span class="header">Extrait 1.1.</span> <span class="description">Exécution du script <code>rails</code> pour générer une nouvelle application web.</span> </div>
<div class="code"><div class="highlight"><pre><span class="gp">$</span> mkdir rails_projects
<span class="gp">$</span> <span class="nb">cd </span>rails_projects
<span class="gp">$</span> rails new first_app
<span class="go">      create  </span>
<span class="go">      create  README</span>
<span class="go">      create  .gitignore</span>
<span class="go">      create  Rakefile</span>
<span class="go">      create  config.ru</span>
<span class="go">      create  Gemfile</span>
<span class="go">      create  app</span>
<span class="go">      create  app/controllers/application_controller.rb</span>
<span class="go">      create  app/helpers/application_helper.rb</span>
<span class="go">      create  app/views/layouts/application.html.erb</span>
<span class="go">      create  app/models</span>
<span class="go">      create  config</span>
<span class="go">      create  config/routes.rb</span>
<span class="go">      create  config/application.rb</span>
<span class="go">      create  config/environment.rb</span>
<span class="go">      .</span>
<span class="go">      .</span>
<span class="go">      .</span>
</pre></div>
</div></div>


<p>Remarquez le nombre de fichiers et de dossier que la commande <code>rails</code> crée. Cette structure stantard de dossiers et de fichiers (<a class="ref" href="beginning#fig:directory_structure_rails_3">Illustration&nbsp;1.2</a>) est l'un des nombreux avantages de Rails&nbsp;; cela vous propulse directement de zéro à une application fonctionnelle (bien que minimale). Plus encore, puisque la structure est commune à toutes les applications Rails, vous pouvez immédiatement prendre vos repères en regardant le code de quelqu'un d'autre. Un résumé des fichiers Rails par défaut apparait dans la <a class="ref" href="beginning#table:rails_directory_structure">table&nbsp;1.1</a>&nbsp;; nous en apprendrons plus sur la plupart de ces fichiers tout au long de ce livre.</p>

<div class="label" id="fig:directory_structure_rails_3"></div>


<div class="figure"><div class="center"><span class="graphic"><img src="/images/figures/directory_structure_rails_3.png" alt="directory_structure_rails_3" /></span></div><div class="caption"><span class="header">Illustration 1.2: </span><span class="description">La structure du dossier pour une toute nouvelle application Rails.&nbsp;<a href="http://railstutorial.org/images/figures/directory_structure_rails_3-full.png">(taille normale)</a></span></div></div>




<div class="label" id="table:rails_directory_structure"></div>


<div class="table"><div class="center"><table class="tabular"><tr><th class="align_left"><strong>Fichier/Dossier</strong></th><th class="align_left"><strong>Objet</strong></th></tr><tr class="top_bar"><td class="align_left"><tt>app/</tt></td><td class="align_left">Cœur du code de l'application (app), incluant des modèles (models), des vues (views), des contrôleurs (controllers), et des aides (helpers)</td></tr><tr><td class="align_left"><tt>config/</tt></td><td class="align_left">Configuration de l'application</td></tr><tr><td class="align_left"><tt>db/</tt></td><td class="align_left">Fichiers pour manipuler la base de données</td></tr><tr><td class="align_left"><tt>doc/</tt></td><td class="align_left">Documentation pour l'application</td></tr><tr><td class="align_left"><tt>lib/</tt></td><td class="align_left">Modules libraries</td></tr><tr><td class="align_left"><tt>log/</tt></td><td class="align_left">Journaux (logs) de  l'application</td></tr><tr><td class="align_left"><tt>public/</tt></td><td class="align_left">Données publiques (p.e., accessibles aux navigateurs web), telles que les images et les feuilles de styles (CSS)</td></tr><tr><td class="align_left"><tt>script/rails</tt></td><td class="align_left">Un script fourni par Rails pour générer du code, ouvrir les sessions console, ou démarrer une serveur web local</td></tr><tr><td class="align_left"><tt>test/</tt></td><td class="align_left">Tests de l'application tests (rendu obsolète par le dossier <tt>spec/</tt> introduit à la <a class="ref" href="static-pages#sec:static_pages_with_rails">section&nbsp;3.1.2</a>)</td></tr><tr><td class="align_left"><tt>tmp/</tt></td><td class="align_left">Fichiers temporaires</td></tr><tr><td class="align_left"><tt>vendor/</tt></td><td class="align_left">Codes Tierce-partie tels que les plugins et les gems</td></tr><tr><td class="align_left"><tt>README</tt></td><td class="align_left">Une brève description de l'application</td></tr><tr><td class="align_left"><tt>Rakefile</tt></td><td class="align_left">Tâches utilies accessibles par le biais de la commande <code>rake</code></td></tr><tr><td class="align_left"><tt>Gemfile</tt></td><td class="align_left">Les Gems requis par l'application</td></tr><tr><td class="align_left"><tt>config.ru</tt></td><td class="align_left">Un fichier de configuration pour <a href="http://rack.rubyforge.org/doc/">Rack middleware</a></td></tr><tr><td class="align_left"><tt>.gitignore</tt></td><td class="align_left">Les “Patterns” pour les fichiers qui doivent être ignorés par Git</td></tr></table></div><div class="caption"><span class="header">Table 1.1: </span><span class="description">Résumé de la structure par défaut d'un dossier Rails.</span></div></div>




<div class="label" id="sec:bundler"></div>


<h3><a id="sec:1.2.4" href="beginning#sec:bundler" class="heading"><span class="number">1.2.4</span> Bundler</a></h3>


<p>Après avoir créé une nouvelle application Rails, on utilise <em>Bundler</em> pour installer et inclure les gems utiles à l'application. Cela consiste à ouvrir le fichier <code>Gemfile</code> avec votre éditeur de texte favori&nbsp;:</p>

<div class="code"><div class="highlight"><pre><span class="gp">$</span> <span class="nb">cd </span>first_app/
<span class="gp">$</span> mate Gemfile
</pre></div>
</div>


<p>Le résultat devrait ressembler à l'<a class="ref" href="beginning#code:default_gemfile">extrait&nbsp;1.2</a>.</p>

<div class="label" id="code:default_gemfile"></div>


<div class="codelisting">
<div class="listing"><span class="header">Extrait 1.2.</span> <span class="description">Le fichier <code>Gemfile</code> par défaut dans le dossier <code>first_app</code> directory.</span>       <object classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000"
              width="110"
              height="14"
              id="clippy_88ae3e9609a97ab6d07800888a1d0e13234eb949">
      <param name="movie" value="/flash/clippy.swf"/>
      <param name="allowScriptAccess" value="always" />
      <param name="quality" value="high" />
      <param name="scale" value="noscale" />
      <param name="FlashVars" value="text=source%20'http://rubygems.org'%0A%0Agem%20'rails',%20'3.0.5'%0A%0A%23%20Bundle%20edge%20Rails%20instead:%0A%23%20gem%20'rails',%20:git%20=%3E%20'git://github.com/rails/rails.git'%0A%0Agem%20'sqlite3%2Druby',%20:require%20=%3E%20'sqlite3'%0A%0A%23%20Use%20unicorn%20as%20the%20web%20server%0A%23%20gem%20'unicorn'%0A%0A%23%20Deploy%20with%20Capistrano%0A%23%20gem%20'capistrano'%0A%0A%23%20To%20use%20debugger%0A%23%20gem%20'ruby%2Ddebug'%0A%0A%23%20Bundle%20the%20extra%20gems:%0A%23%20gem%20'bj'%0A%23%20gem%20'nokogiri',%20'1.4.1'%0A%23%20gem%20'sqlite3%2Druby',%20:require%20=%3E%20'sqlite3'%0A%23%20gem%20'aws%2Ds3',%20:require%20=%3E%20'aws/s3'%0A%0A%23%20Bundle%20gems%20for%20certain%20environments:%0A%23%20gem%20'rspec',%20:group%20=%3E%20:test%0A%23%20group%20:test%20do%0A%23%20%20%20gem%20'webrat'%0A%23%20end%0A" />
      <param name="bgcolor" value="#ffffff" />
      <embed src="/flash/clippy.swf"
             width="110"
             height="14"
             name="clippy"
             quality="high"
             allowScriptAccess="always"
             type="application/x-shockwave-flash"
             pluginspage="http://www.macromedia.com/go/getflashplayer"
             FlashVars="text=source%20'http://rubygems.org'%0A%0Agem%20'rails',%20'3.0.5'%0A%0A%23%20Bundle%20edge%20Rails%20instead:%0A%23%20gem%20'rails',%20:git%20=%3E%20'git://github.com/rails/rails.git'%0A%0Agem%20'sqlite3%2Druby',%20:require%20=%3E%20'sqlite3'%0A%0A%23%20Use%20unicorn%20as%20the%20web%20server%0A%23%20gem%20'unicorn'%0A%0A%23%20Deploy%20with%20Capistrano%0A%23%20gem%20'capistrano'%0A%0A%23%20To%20use%20debugger%0A%23%20gem%20'ruby%2Ddebug'%0A%0A%23%20Bundle%20the%20extra%20gems:%0A%23%20gem%20'bj'%0A%23%20gem%20'nokogiri',%20'1.4.1'%0A%23%20gem%20'sqlite3%2Druby',%20:require%20=%3E%20'sqlite3'%0A%23%20gem%20'aws%2Ds3',%20:require%20=%3E%20'aws/s3'%0A%0A%23%20Bundle%20gems%20for%20certain%20environments:%0A%23%20gem%20'rspec',%20:group%20=%3E%20:test%0A%23%20group%20:test%20do%0A%23%20%20%20gem%20'webrat'%0A%23%20end%0A"
             bgcolor="#ffffff"
      />
      </object>
</div>
<div class="code"><div class="highlight"><pre><span class="n">source</span> <span class="s1">&#39;http://rubygems.org&#39;</span>

<span class="n">gem</span> <span class="s1">&#39;rails&#39;</span><span class="p">,</span> <span class="s1">&#39;3.0.5&#39;</span>

<span class="c1"># Bundle edge Rails instead:</span>
<span class="c1"># gem &#39;rails&#39;, :git =&gt; &#39;git://github.com/rails/rails.git&#39;</span>

<span class="n">gem</span> <span class="s1">&#39;sqlite3-ruby&#39;</span><span class="p">,</span> <span class="ss">:require</span> <span class="o">=&gt;</span> <span class="s1">&#39;sqlite3&#39;</span>

<span class="c1"># Utilser unicorn comme serveur web</span>
<span class="c1"># gem &#39;unicorn&#39;</span>

<span class="c1"># Déployer l'application avec Capistrano</span>
<span class="c1"># gem &#39;capistrano&#39;</span>

<span class="c1"># Le déboggueur</span>
<span class="c1"># gem &#39;ruby-debug&#39;</span>

<span class="c1"># Bundle les gems supplémentaires :</span>
<span class="c1"># gem &#39;bj&#39;</span>
<span class="c1"># gem &#39;nokogiri&#39;, &#39;1.4.1&#39;</span>
<span class="c1"># gem &#39;sqlite3-ruby&#39;, :require =&gt; &#39;sqlite3&#39;</span>
<span class="c1"># gem &#39;aws-s3&#39;, :require =&gt; &#39;aws/s3&#39;</span>

<span class="c1"># Bundle ces gems pour certains environements:</span>
<span class="c1"># gem &#39;rspec&#39;, :group =&gt; :test</span>
<span class="c1"># group :test do</span>
<span class="c1">#   gem &#39;webrat&#39;</span>
<span class="c1"># end</span>
</pre></div>
</div></div>


<p>La plupart de ces lignes sont commentés par le symbole dièse (<code>#</code>)&nbsp;; elles sont là pour vous montrer certains des gems les plus communs et donner des exemples de la syntaxe Bundler. Pour le moment, nous n'aurons besoin d'aucun gem autres que ceux par défaut&nbsp;: Rails lui-même, et le gem pour l'interface Ruby pour la <a href="http://www.sqlite.org/">base de données SQLite</a>.</p>

<p>Même si vous spécifiez un numéro de version pour la commande <code>gem</code>, Bundler installera toujours automatiquement la dernière version. Malheureusement, les actualisations des gems causent souvent des ruptures mineures mais potentiellement perturbantes, donc dans ce tutoriel nous ajouterons en général un numéro de version explicite connu, comme on le voit dans l'<a class="ref" href="beginning#code:gemfile_sqlite_version">extrait&nbsp;1.3</a>.<sup class="footnote" id="fnref:1.9"><a href="#fn:1.9">9</a></sup></p>

<div class="label" id="code:gemfile_sqlite_version"></div>


<div class="codelisting">
<div class="listing"><span class="header">Extrait 1.3.</span> <span class="description">Un fichier <code>Gemfile</code> avec un numéro de version du gem <tt>sqlite3-ruby</tt> explicite.</span>       <object classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000"
              width="110"
              height="14"
              id="clippy_9839b883b592d294963403e3484510e9bf40e582">
      <param name="movie" value="/flash/clippy.swf"/>
      <param name="allowScriptAccess" value="always" />
      <param name="quality" value="high" />
      <param name="scale" value="noscale" />
      <param name="FlashVars" value="text=source%20'http://rubygems.org'%0A%0Agem%20'rails',%20'3.0.5'%0Agem%20'sqlite3%2Druby',%20'1.3.2',%20:require%20=%3E%20'sqlite3'%0A" />
      <param name="bgcolor" value="#ffffff" />
      <embed src="/flash/clippy.swf"
             width="110"
             height="14"
             name="clippy"
             quality="high"
             allowScriptAccess="always"
             type="application/x-shockwave-flash"
             pluginspage="http://www.macromedia.com/go/getflashplayer"
             FlashVars="text=source%20'http://rubygems.org'%0A%0Agem%20'rails',%20'3.0.5'%0Agem%20'sqlite3%2Druby',%20'1.3.2',%20:require%20=%3E%20'sqlite3'%0A"
             bgcolor="#ffffff"
      />
      </object>
</div>
<div class="code"><div class="highlight"><pre><span class="n">source</span> <span class="s1">&#39;http://rubygems.org&#39;</span>

<span class="n">gem</span> <span class="s1">&#39;rails&#39;</span><span class="p">,</span> <span class="s1">&#39;3.0.5&#39;</span>
<span class="n">gem</span> <span class="s1">&#39;sqlite3-ruby&#39;</span><span class="p">,</span> <span class="s1">&#39;1.3.2&#39;</span><span class="p">,</span> <span class="ss">:require</span> <span class="o">=&gt;</span> <span class="s1">&#39;sqlite3&#39;</span>
</pre></div>
</div></div>


<p>Cela change la ligne…</p>

<div class="code"><div class="highlight"><pre><span class="n">gem</span> <span class="s1">&#39;sqlite3-ruby&#39;</span><span class="p">,</span> <span class="ss">:require</span> <span class="o">=&gt;</span> <span class="s1">&#39;sqlite3&#39;</span>
</pre></div>
</div>


<p>… de l'<a class="ref" href="beginning#code:default_gemfile">extrait&nbsp;1.2</a> vers…</p>

<div class="code"><div class="highlight"><pre><span class="n">gem</span> <span class="s1">&#39;sqlite3-ruby&#39;</span><span class="p">,</span> <span class="s1">&#39;1.3.2&#39;</span><span class="p">,</span> <span class="ss">:require</span> <span class="o">=&gt;</span> <span class="s1">&#39;sqlite3&#39;</span>
</pre></div>
</div>


<p>… qui force Bundler à installer la version <tt>1.3.2</tt> du gem <tt>sqlite3-ruby</tt> (notez que vous aurez besoin de la version <tt>1.2.5</tt> du gem <tt>sqlite3-ruby</tt> si vous tournez sous OS&nbsp;X Leopard, comme <code>1.3.2</code> a besoin de Snow Leopard pour se compiler proprement).</p>

<p>Si vous êtes sous Ubuntu Linux, vous pouvez devoir installer une paire d'autre packages à ce point du tutoriel&nbsp;:<sup class="footnote" id="fnref:1.10"><a href="#fn:1.10">10</a></sup></p>

<div class="code"><div class="highlight"><pre><span class="gp">$</span> sudo apt-get install libxslt-dev libxml2-dev libsqlite3-dev    <span class="c"># seulement pour Linux</span>
</pre></div>
</div>


<p>Une fois que vous avec assemblé correction votre <code>Gemfile</code>, installez les gems en utilisant la commande <code>bundle install</code>&nbsp;:<sup class="footnote" id="fnref:1.11"><a href="#fn:1.11">11</a></sup></p>

<div class="code"><div class="highlight"><pre><span class="gp">$</span> bundle install
<span class="go">Fetching source index for http://rubygems.org/</span>
<span class="go">.</span>
<span class="go">.</span>
<span class="go">.</span>
</pre></div>
</div>


<p>Ça peut prendre un certain temps, mais une fois fait, notre application sera prête à démarrer.</p>

<div class="label" id="sec:rails_server"></div>


<h3><a id="sec:1.2.5" href="beginning#sec:rails_server" class="heading"><span class="number">1.2.5</span> <code>rails server</code></a></h3>


<p>Grâce à l'exécution de <code>rails new</code> à la <a class="ref" href="beginning#sec:the_first_application">section&nbsp;1.2.3</a> et <code>bundle install</code> à la <a class="ref" href="beginning#sec:bundler">section&nbsp;1.2.4</a>, nous avons déjà une application que nous pouvons lancer &mdash;&nbsp;mais comment&nbsp;? Heureusement, Rails est fourni avec un programme de commande en ligne, ou <em>script</em>, qui lance un serveur web <em>local</em>,<sup class="footnote" id="fnref:1.12"><a href="#fn:1.12">12</a></sup> visible seulement depuis votre machine de développement&nbsp;:<sup class="footnote" id="fnref:1.13"><a href="#fn:1.13">13</a></sup></p>

<div class="code"><div class="highlight"><pre><span class="gp">$</span> rails server
<span class="go">=&gt; Booting WEBrick</span>
<span class="go">=&gt; Rails 3.0.5 application starting on http://0.0.0.0:3000</span>
<span class="go">=&gt; Call with -d to detach</span>
<span class="go">=&gt; Ctrl-C to shutdown server</span>
</pre></div>
</div>


<p>Ce code nous dit que l'application est lancée sur le <a href="http://en.wikipedia.org/wiki/TCP_and_UDP_port">port</a> 3000<sup class="footnote" id="fnref:1.14"><a href="#fn:1.14">14</a></sup> à l'adresse <code>0.0.0.0</code>. Cette adresse dit à l'ordinateur d'écouter toutes les adresses IP accessibles et configurées sur la machine spécifiques&nbsp;; en particulier, nous pouvons voir l'application en utilisant l'adresse spéciale <code>127.0.0.1</code>, connue aussi sous la forme <code>localhost</code>. Nous pouvons voir le résultat en visitant l'adresse <a href="http://localhost:3000/"><tt>http://localhost:3000/</tt></a> de l'<a class="ref" href="beginning#fig:riding_rails_3">illustration&nbsp;1.3</a>.<sup class="footnote" id="fnref:1.15"><a href="#fn:1.15">15</a></sup></p>

<div class="label" id="fig:riding_rails_3"></div>


<div class="figure"><div class="center"><span class="graphic"><img src="/images/figures/riding_rails_3.png" alt="riding_rails_3" /></span></div><div class="caption"><span class="header">Figure 1.3: </span><span class="description">La page Rails par défaut (<a href="http://localhost:3000/"><tt>http://localhost:3000/</tt></a>).&nbsp;<a href="http://railstutorial.org/images/figures/riding_rails_3-full.png">(taille normale)</a></span></div></div>


<p>Pour voir les informations sur notre première application, cliquez sur le lien &ldquo;About your application&rsquo;s environment&rdquo;. Le résultat est montré dans l'<a class="ref" href="beginning#fig:riding_rails_3_environment">illustration&nbsp;1.4</a>.<sup class="footnote" id="fnref:1.16"><a href="#fn:1.16">16</a></sup></p>

<div class="label" id="fig:riding_rails_3_environment"></div>


<div class="figure"><div class="center"><span class="graphic"><img src="/images/figures/riding_rails_3_environment.png" alt="riding_rails_3_environment" /></span></div><div class="caption"><span class="header">Illustration 1.4: </span><span class="description">La page par défaut (<a href="http://localhost:3000/"><tt>http://localhost:3000/</tt></a>) avec l'environnement de l'application.&nbsp;<a href="http://railstutorial.org/images/figures/riding_rails_3_environment-full.png">(taille normale)</a></span></div></div>


<p>Bien sûr, nous n'avons pas besoin de la page par défaut de Rails très longtemps, mais il est sympa de voir qu'elle fonctionne pour le moment. Nous détruirons la page par défaut (et la remplacerons avec une page d'accueil personnalisée) dans la <a class="ref" href="filling-in-the-layout#sec:rails_routes">section&nbsp;5.2.2</a>.</p>

<div class="label" id="sec:mvc"></div>


<h3><a id="sec:1.2.6" href="beginning#sec:mvc" class="heading"><span class="number">1.2.6</span> Modèle-Vue-Contrôleur (MVC)</a></h3>


<p>Même à cette étape précoce, il est utile d'avoir un aperçu de haut-niveau de comment fonctionne les applications Rails (<a class="ref" href="beginning#fig:MVC">Illustration&nbsp;1.5</a>). Vous pouvez avoir noté que la structure standard d'une application Rails (<a class="ref" href="beginning#fig:directory_structure_rails_3">Illustration&nbsp;1.2</a>) possède un dossier appelé <code>app/</code> contenant trois sous-dossiers&nbsp;: <code>models</code> (“Modèles”), <code>views</code> (“Vues”), and <code>controllers</code> (“Contrôleurs”). C'est l'indice que Rails suit le modèle architectural <a href="http://en.wikipedia.org/wiki/Model-view-controller">Modèle-Vue-Contrôleur</a> (Model-View-Controls ou MVC), [qui force une séparation entre la &ldquo;logique domaine&rdquo; (appelée aussi &ldquo;logique métier&rdquo;) et les entrées et la logique de présentation associée à un interface utilisateur graphique] (Graphical User Interface ou GUI). Dans le cas des applications web, la &ldquo;logique domaine&rdquo; consiste typiquement en modèles de données pour des choses telles que les utilisateurs, les articles, et les produits, et le GUI est juste une page web dans un navigateur web.</p>

<p>En interagissant avec une application Rails, un navigateur envoie une  <em>requête</em>, qui est reçue par un serveur web et passée à un <em>contrôleur</em> Rails, qui lui-même prend en charge ce qu'il faut faire ensuite. Dans certains cas, le contrôleur rendra immédiatement une <em>vue</em>, qui est un modèle converti en HTML et renvoyé au navigateur. De façon plus classique pour les site dynamiques, le contrôleur interagit avec le <em>modèle</em>, qui est un objet Ruby qui représente un élément du site (tel qu'un utilisateur) et est en charge de la communication avec la base de données. Après l'invocation du modèle, le contrôleur produit alors une vue et retourne la page web achevée au navigateur sous forme de code HTML.</p>

<div class="label" id="fig:MVC"></div>


<div class="figure"><div class="center"><span class="graphic"><img src="/images/figures/mvc_schematic.png" alt="mvc_schematic" /></span></div><div class="caption"><span class="header">Illustration 1.5: </span><span class="description">Une représentation schématique de l'architecture modèle-vue-contrôleur (MVC).</span></div></div>


<p>Si cette discussion vous semble un peu trop abstraite pour le moment, ne vous inquiétez pas&nbsp;; nous y ferons fréquemment référence. Addionnellement, la <a class="ref" href="a-demo-app#sec:mvc_in_action">section&nbsp;2.2.2</a> contient une discussion plus détaillée sur le MVC dans le contexte de l'application démo.  Pour finir, l'application exemple utilisera tous les aspects du MVC&nbsp;; nous couvrirons le problème des contrôleurs et des vues en commençant à la <a class="ref" href="static-pages#sec:static_pages_with_rails">section&nbsp;3.1.2</a>, les modèles en commençant la <a class="ref" href="modeling-and-viewing-users-one#sec:user_model">section&nbsp;6.1</a>, et nous verrons comment les trois fonctionnent ensemble dans la <a class="ref" href="modeling-and-viewing-users-one#sec:users_show">section&nbsp;6.3.2</a>.</p>

<div class="label" id="sec:version_control"></div>


<h2><a id="sec:1.3" href="beginning#sec:version_control" class="heading"><span class="number">1.3</span> Contrôle de version avec Git</a></h2>

<p>Maintenant que nous avons une application Rails rafraichie et fonctionnelle, nous allons prendre le temps d'une étape qui, bien que techniquement optionnelle, serait vu par de nombreux développeurs Rails comme pratiquement essentielle, à savoir placer le code source de votre application sous <em>contrôle de version</em>. Les systèmes de contrôle de version nous permettent de procéder à des modifications du code de notre projet, de collaborer plus aisément, et de revenir en arrière en cas d'erreur (comme la suppression accidentelle de fichiers). Savoir utiliser un système de contrôle de version est une compétence que doit acquérir tout développeur.</p>

<p>Il y a beaucoup d'options pour le contrôle de version, mais la communauté Rails a largement opté pour <a href="http://git-scm.com/">Git</a>, un système de contrôle de version distribué originellement développé par Linus Torvalds pour accueillir le kernel Linux. Git est un sujet vaste, et nous ne ferons que l'effleurer dans ce livre, mais vous trouverez de nombreuses bonnes ressources sur le web&nbsp;; je recommande spécialement <a href="http://progit.org"><em>Pro Git</em></a> de Scott Chacon (Apress, 2009). Mettre votre code source sous contrôle de version avec Git est <em>chaudement</em> recommandé, pas seulement parce que c'est une pratique universelle dans le monde de Rails, mais aussi parce que cela vous permettra de partager votre code plus facilement (<a class="ref" href="beginning#sec:github">Section&nbsp;1.3.4</a>) et déployer votre application ici dans le premier chapitre (<a class="ref" href="beginning#sec:deploying">Section&nbsp;1.4</a>).</p>

<div class="label" id="sec:git_setup"></div>


<h3><a id="sec:1.3.1" href="beginning#sec:git_setup" class="heading"><span class="number">1.3.1</span> Installation et réglages</a></h3>

<!-- FIN FRENCH -->

<p>The first step is to install Git if you haven&rsquo;t yet followed the steps in <a class="ref" href="beginning#sec:install_git">Section&nbsp;1.2.2.2</a>. (As noted in that section, this involves following the instructions in the <a href="http://progit.org/book/ch1-4.html">Installing Git section of <em>Pro Git</em></a>.)</p>

<h4><a id="sec:1.3.1.1" href="beginning#sec:1.3.1.1" class="heading">First-time system setup</a></h4>


<p>After installing Git, you should perform a set of one-time setup steps. These are <em>system</em> setups, meaning you only have to do them once per computer:</p>

<div class="code"><div class="highlight"><pre><span class="gp">$</span> git config --global user.name <span class="s2">&quot;Your Name&quot;</span>
<span class="gp">$</span> git config --global user.email youremail@example.com
</pre></div>
</div>


<p>I also like to use <code>co</code> in place of the more verbose <code>checkout</code> command, which we can arrange as follows:</p>

<div class="code"><div class="highlight"><pre><span class="gp">$</span> git config --global alias.co checkout
</pre></div>
</div>


<p>This tutorial will usually use the full <code>checkout</code> command, which works for systems that don&rsquo;t have <code>co</code> configured, but in real life I nearly always use <code>git co</code> to check out a project.</p>

<p>As a final setup step, you can optionally set the editor Git will use for commit messages. If you use a graphical editor such as TextMate, gVim, or MacVim, you need to use a flag to make sure that the editor stays attached to the shell instead of detaching immediately:<sup class="footnote" id="fnref:1.17"><a href="#fn:1.17">17</a></sup></p>

<div class="code"><div class="highlight"><pre><span class="gp">$</span> git config --global core.editor <span class="s2">&quot;mate -w&quot;</span>
</pre></div>
</div>


<p>Replace <code>"mate -w"</code> with <code>"gvim -f"</code> for gVim or <code>"mvim -f"</code> for MacVim.</p>

<h4><a id="sec:1.3.1.2" href="beginning#sec:1.3.1.2" class="heading">First-time repository setup</a></h4>


<p>Now we come to some steps that are necessary each time you create a new <em>repository</em> (which only happens once in this book, but is likely to happen again some day). First navigate to the root directory of the first app and initialize a new repository:</p>

<div class="code"><div class="highlight"><pre><span class="gp">$</span> git init
<span class="go">Initialized empty Git repository in /Users/mhartl/rails_projects/first_app/.git/</span>
</pre></div>
</div>


<p>The next step is to add the project files to the repository. There&rsquo;s a minor complication, though: by default Git tracks the changes of <em>all</em> the files, but there are some files we don&rsquo;t want to track. For example, Rails creates log files to record the behavior of the application; these files change frequently, and we don&rsquo;t want our version control system to have to update them constantly. Git has a simple mechanism to ignore such files: simply include a file called <code>.gitignore</code> in the Rails root directory with some rules telling Git which files to ignore.</p>

<p>Looking again at <a class="ref" href="beginning#table:rails_directory_structure">Table&nbsp;1.1</a>, we see that the <code>rails</code> command creates a default <code>.gitignore</code> file in the Rails root directory, as shown in <a class="ref" href="beginning#code:default_gitignore">Listing&nbsp;1.4</a>.</p>

<div class="label" id="code:default_gitignore"></div>


<div class="codelisting">
<div class="listing"><span class="header">Listing 1.4.</span> <span class="description">The default <code>.gitignore</code> created by the <code>rails</code> command.</span>       <object classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000"
              width="110"
              height="14"
              id="clippy_a14fbe0b8b325cd4278e30da76b2e3568a52c98f">
      <param name="movie" value="/flash/clippy.swf"/>
      <param name="allowScriptAccess" value="always" />
      <param name="quality" value="high" />
      <param name="scale" value="noscale" />
      <param name="FlashVars" value="text=.bundle%0Adb/*.sqlite3%0Alog/*.log%0Atmp/**/*%0A" />
      <param name="bgcolor" value="#ffffff" />
      <embed src="/flash/clippy.swf"
             width="110"
             height="14"
             name="clippy"
             quality="high"
             allowScriptAccess="always"
             type="application/x-shockwave-flash"
             pluginspage="http://www.macromedia.com/go/getflashplayer"
             FlashVars="text=.bundle%0Adb/*.sqlite3%0Alog/*.log%0Atmp/**/*%0A"
             bgcolor="#ffffff"
      />
      </object>
</div>
<div class="code"><div class="highlight"><pre>.bundle
db/*.sqlite3
log/*.log
tmp/**/*
</pre></div>
</div></div>


<p><a class="ref" href="beginning#code:default_gitignore">Listing&nbsp;1.4</a> causes Git to ignore files such as log files, Rails temporary (<code>tmp</code>) files, and SQLite databases. (For example, to ignore log files, which live in the <code>log/</code> directory, we use <code>log/*.log</code> to ignore all files that end in <code>.log</code>.) Most of these ignored files change frequently and automatically, so including them under version control is inconvenient; moreover, when collaborating with others they can cause frustrating and irrelevant conflicts.</p>

<p>The <code>.gitignore</code> file in <a class="ref" href="beginning#code:default_gitignore">Listing&nbsp;1.4</a> is probably sufficient for this tutorial, but depending on your system you may find <a class="ref" href="beginning#code:gitignore">Listing&nbsp;1.5</a> more convenient.<sup class="footnote" id="fnref:1.18"><a href="#fn:1.18">18</a></sup> This augmented <code>.gitignore</code> arranges to ignore Rails documentation files, Vim and Emacs swap files, and (for OS&nbsp;X users) the weird <code>.DS_Store</code> directories created by the Mac Finder application. If you want to use this broader set of ignored files, open up <code>.gitignore</code> in your favorite text editor and fill it with the contents of <a class="ref" href="beginning#code:gitignore">Listing&nbsp;1.5</a>.</p>

<div class="label" id="code:gitignore"></div>


<div class="codelisting">
<div class="listing"><span class="header">Listing 1.5.</span> <span class="description">An augmented <code>.gitignore</code> file.</span>       <object classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000"
              width="110"
              height="14"
              id="clippy_3fab39f59e919e5630c7ef701c7df1d7247f3ce6">
      <param name="movie" value="/flash/clippy.swf"/>
      <param name="allowScriptAccess" value="always" />
      <param name="quality" value="high" />
      <param name="scale" value="noscale" />
      <param name="FlashVars" value="text=.bundle%0Adb/*.sqlite3*%0Alog/*.log%0A*.log%0A/tmp/%0Adoc/%0A*.swp%0A*~%0A.DS_Store%0A" />
      <param name="bgcolor" value="#ffffff" />
      <embed src="/flash/clippy.swf"
             width="110"
             height="14"
             name="clippy"
             quality="high"
             allowScriptAccess="always"
             type="application/x-shockwave-flash"
             pluginspage="http://www.macromedia.com/go/getflashplayer"
             FlashVars="text=.bundle%0Adb/*.sqlite3*%0Alog/*.log%0A*.log%0A/tmp/%0Adoc/%0A*.swp%0A*~%0A.DS_Store%0A"
             bgcolor="#ffffff"
      />
      </object>
</div>
<div class="code"><div class="highlight"><pre>.bundle
db/*.sqlite3*
log/*.log
*.log
/tmp/
doc/
*.swp
*~
.DS_Store
</pre></div>
</div></div>




<div class="label" id="sec:adding_and_committing"></div>


<h3><a id="sec:1.3.2" href="beginning#sec:adding_and_committing" class="heading"><span class="number">1.3.2</span> Adding and committing</a></h3>


<p>Finally, we&rsquo;ll add the files in your new Rails project to Git and then commit the results. You can add all the files (apart from those that match the ignore patterns in <code>.gitignore</code>) as follows:<sup class="footnote" id="fnref:1.19"><a href="#fn:1.19">19</a></sup></p>

<div class="code"><div class="highlight"><pre><span class="gp">$</span> git add .
</pre></div>
</div>


<p>Here the dot &lsquo;<code>.</code>&rsquo; represents the current directory, and Git is smart enough to add the files <em>recursively</em>, so it automatically includes all the subdirectories. This command adds the project files to a <em>staging area</em>, which contains pending changes to your project; you can see which files are in the staging area using the <code>status</code> command:<sup class="footnote" id="fnref:1.20"><a href="#fn:1.20">20</a></sup></p>

<div class="code"><div class="highlight"><pre><span class="gp">$</span> git status
<span class="gp">#</span> On branch master
<span class="gp">#</span>
<span class="gp">#</span> Initial commit
<span class="gp">#</span>
<span class="gp">#</span> Changes to be committed:
<span class="gp">#</span>   <span class="o">(</span>use <span class="s2">&quot;git rm --cached &lt;file&gt;...&quot;</span> to unstage<span class="o">)</span>
<span class="gp">#</span>
<span class="gp">#</span>       new file:   README
<span class="gp">#</span>       new file:   Rakefile
<span class="go">.</span>
<span class="go">.</span>
<span class="go">.</span>
</pre></div>
</div>


<p>(The results are long, so I&rsquo;ve used vertical dots to indicate omitted output.)</p>

<p>To tell Git you want to keep the changes, use the <code>commit</code> command:</p>

<div class="code"><div class="highlight"><pre><span class="gp">$</span> git commit -m <span class="s2">&quot;Initial commit&quot;</span>
<span class="go">[master (root-commit) df0a62f] Initial commit</span>
<span class="go">42 files changed, 8461 insertions(+), 0 deletions(-)</span>
<span class="go">create mode 100644 README</span>
<span class="go">create mode 100644 Rakefile</span>
<span class="go">.</span>
<span class="go">.</span>
<span class="go">.</span>
</pre></div>
</div>


<p>The <code>-m</code> flag lets you add a message for the commit; if you omit <code>-m</code>, Git will open the editor you set in <a class="ref" href="beginning#sec:git_setup">Section&nbsp;1.3.1</a> and have you enter the message there.</p>

<p>It is important to note that Git commits are <em>local</em>, recorded only on the machine on which the commits occur. This is in contrast to the popular open-source version control system called Subversion, in which a commit necessarily makes changes on a remote repository. Git divides a Subversion-style commit into its two logical pieces: a local recording of the changes (<code>git commit</code>) and a push of the changes up to a remote repository (<code>git push</code>). We&rsquo;ll see an example of the push step in <a class="ref" href="beginning#sec:git_commands">Section&nbsp;1.3.5</a>.</p>

<p>By the way, you can see a list of your commit messages using the <code>log</code> command:</p>

<div class="code"><div class="highlight"><pre><span class="gp">$</span> git log
<span class="go">commit df0a62f3f091e53ffa799309b3e32c27b0b38eb4</span>
<span class="go">Author: Michael Hartl &lt;michael@michaelhartl.com&gt;</span>
<span class="go">Date:   Thu Oct 15 11:36:21 2009 -0700</span>

<span class="go">  Initial commit</span>
</pre></div>
</div>


<p>To exit <code>git log</code>, you may have to type <code>q</code> to quit.</p>

<h3><a id="sec:1.3.3" href="beginning#sec:1.3.3" class="heading"><span class="number">1.3.3</span> What good does Git do you?</a></h3>


<p>It&rsquo;s probably not entirely clear at this point why putting your source under version control does you any good, so let me give just one example. (We&rsquo;ll see many others in the chapitres ahead.) Suppose you&rsquo;ve made some accidental changes, such as (D&rsquo;oh!) deleting the critical <code>app/controllers/</code> directory:</p>

<div class="code"><div class="highlight"><pre><span class="gp">$</span> ls app/controllers/
<span class="go">application_controller.rb</span>
<span class="gp">$</span> rm -rf app/controllers/
<span class="gp">$</span> ls app/controllers/
<span class="go">ls: app/controllers/: No such file or directory</span>
</pre></div>
</div>


<p>Here we&rsquo;re using the Unix <code>ls</code> command to list the contents of the <code>app/controllers/</code> directory and the <code>rm</code> command to remove it. The <code>-rf</code> flag means &ldquo;recursive force&rdquo;, which recursively removes all files, directories, subdirectories, and so on, without asking for explicit confirmation of each deletion.</p>

<p>Let&rsquo;s check the status to see what&rsquo;s up:</p>

<div class="code"><div class="highlight"><pre><span class="gp">$</span> git status
<span class="gp">#</span> On branch master
<span class="gp">#</span> Changed but not updated:
<span class="gp">#</span>   <span class="o">(</span>use <span class="s2">&quot;git add/rm &lt;file&gt;...&quot;</span> to update what will be committed<span class="o">)</span>
<span class="gp">#</span>   <span class="o">(</span>use <span class="s2">&quot;git checkout -- &lt;file&gt;...&quot;</span> to discard changes in working directory<span class="o">)</span>
<span class="gp">#</span>
<span class="gp">#</span>       deleted:    app/controllers/application_controller.rb
<span class="gp">#</span>
<span class="go">no changes added to commit (use &quot;git add&quot; and/or &quot;git commit -a&quot;)</span>
</pre></div>
</div>


<p>We see here that a couple files have been deleted, but the changes are only on the &ldquo;working tree&rdquo;; they haven&rsquo;t been committed yet. This means we can still undo the changes easily by having Git check out the previous commit with the <code>checkout</code> command (and a <code>-f</code> flag to force overwriting the current changes):</p>

<div class="code"><div class="highlight"><pre><span class="gp">$</span> git checkout -f
<span class="gp">$</span> git status
<span class="gp">#</span> On branch master
<span class="go">nothing to commit (working directory clean)</span>
<span class="gp">$</span> ls app/controllers/
<span class="go">application_controller.rb</span>
</pre></div>
</div>


<p>The missing directory and file are back. That&rsquo;s a relief!</p>

<div class="label" id="sec:github"></div>


<h3><a id="sec:1.3.4" href="beginning#sec:github" class="heading"><span class="number">1.3.4</span> GitHub</a></h3>


<p>Now that you&rsquo;ve put your project under version control with Git, it&rsquo;s time to push your code up to <a href="http://github.com">GitHub</a>, a social code site optimized for hosting and sharing Git repositories. Putting a copy of your Git repository at GitHub serves two purposes: it&rsquo;s a full backup of your code (including the full history of commits), and it makes any future collaboration much easier. This step is optional, but being a GitHub member will open the door to participating in a wide variety of Ruby and Rails projects (GitHub has high adoption rates in the Ruby and Rails communities, and in fact is itself written in Rails).</p>

<div class="label" id="fig:github_first_page"></div>


<div class="figure"><div class="center"><span class="graphic"><img src="/images/figures/github_first_page.png" alt="github_first_page" /></span></div><div class="caption"><span class="header">Figure 1.6: </span><span class="description">The first GitHub page after account creation.&nbsp;<a href="http://railstutorial.org/images/figures/github_first_page-full.png">(full size)</a></span></div></div>




<div class="label" id="fig:create_first_repository"></div>


<div class="figure"><div class="center"><span class="graphic"><img src="/images/figures/create_first_repository.png" alt="create_first_repository" /></span></div><div class="caption"><span class="header">Figure 1.7: </span><span class="description">Creating the first app repository at GitHub.&nbsp;<a href="http://railstutorial.org/images/figures/create_first_repository-full.png">(full size)</a></span></div></div>


<p>GitHub has a variety of paid plans, but for open source code their services are free, so sign up for a <a href="https://github.com/signup/free">free GitHub account</a> if you don&rsquo;t have one already. (You might have to read about <a href="http://help.github.com/key-setup-redirect">SSH keys</a> first.) After signing up, you&rsquo;ll see a page like the one in <a class="ref" href="beginning#fig:github_first_page">Figure&nbsp;1.6</a>. Click on <a href="http://github.com/repositories/new">create a repository</a> and fill in the information as in <a class="ref" href="beginning#fig:create_first_repository">Figure&nbsp;1.7</a>. After submitting the form, push up your first application as follows:</p>

<div class="code"><div class="highlight"><pre><span class="gp">$</span> git remote add origin git@github.com:&lt;username&gt;/first_app.git
<span class="gp">$</span> git push origin master
</pre></div>
</div>


<p>These commands tell Git that you want to add GitHub as the origin for your main (<em>master</em>) branch and then push your repository up to GitHub. Of course, you should replace <tt class="verb">&lt;username&gt;</tt> with your actual username. For example, the command I ran for the <code>railstutorial</code> user was</p>

<div class="code"><div class="highlight"><pre><span class="gp">$</span> git remote add origin git@github.com:railstutorial/first_app.git
</pre></div>
</div>


<p>The result is a page at GitHub for the first application repository, with file browsing, full commit history, and lots of other goodies (<a class="ref" href="beginning#fig:github_repository_page">Figure&nbsp;1.8</a>).</p>

<div class="label" id="fig:github_repository_page"></div>


<div class="figure"><div class="center"><span class="graphic"><img src="/images/figures/github_repository_page.png" alt="github_repository_page" /></span></div><div class="caption"><span class="header">Figure 1.8: </span><span class="description">A GitHub repository page.&nbsp;<a href="http://railstutorial.org/images/figures/github_repository_page-full.png">(full size)</a></span></div></div>




<div class="label" id="sec:git_commands"></div>


<h3><a id="sec:1.3.5" href="beginning#sec:git_commands" class="heading"><span class="number">1.3.5</span> Branch, edit, commit, merge</a></h3>


<p>If you&rsquo;ve followed the steps in <a class="ref" href="beginning#sec:github">Section&nbsp;1.3.4</a>, you might notice that GitHub automatically shows the contents of the <code>README</code> file on the main repository page. In our case, since the project is a Rails application generated using the <code>rails</code> command, the <code>README</code> file is the one that comes with Rails (<a class="ref" href="beginning#fig:rails_readme">Figure&nbsp;1.9</a>). This isn&rsquo;t very helpful, so in this section we&rsquo;ll make our first edit by changing the <code>README</code> to describe our project rather than the Rails framework itself. In the process, we&rsquo;ll see a first example of the branch, edit, commit, merge workflow that I recommend using with Git.</p>

<div class="label" id="fig:rails_readme"></div>


<div class="figure"><div class="center"><span class="graphic"><img src="/images/figures/rails_readme.png" alt="rails_readme" /></span></div><div class="caption"><span class="header">Figure 1.9: </span><span class="description">The initial (rather useless) <code>README</code> file for our project at GitHub.&nbsp;<a href="http://railstutorial.org/images/figures/rails_readme-full.png">(full size)</a></span></div></div>




<div class="label" id="sec:git_branch"></div>


<h4><a id="sec:1.3.5.1" href="beginning#sec:git_branch" class="heading">Branch</a></h4>


<p>Git is incredibly good at making <em>branches</em>, which are effectively copies of a repository where we can make (possibly experimental) changes without modifying the parent files. In most cases, the parent repository is the <em>master</em> branch, and we can create a new topic branch by using <code>checkout</code> with the <code>-b</code> flag:</p>

<div class="code"><div class="highlight"><pre><span class="gp">$</span> git checkout -b modify-README
<span class="go">Switched to a new branch &#39;modify-README&#39;</span>
<span class="gp">$</span> git branch
<span class="go">master</span>
<span class="go">* modify-README</span>
</pre></div>
</div>


<p>Here the second command, <code>git branch</code>, just lists all the local branches, and the asterisk&nbsp;<code>*</code> identifies which branch we&rsquo;re currently on. Note that <code>git checkout -b modify-README</code> both creates a new branch and switches to it, as indicated by the asterisk in front of the <code>modify-README</code> branch. (If you set up the <code>co</code> alias in <a class="ref" href="beginning#sec:version_control">Section&nbsp;1.3</a>, you can use <code>git co -b modify-README</code> instead.)</p>

<p>The full value of branching only becomes clear when working on a project with multiple developers,<sup class="footnote" id="fnref:1.21"><a href="#fn:1.21">21</a></sup> but branches are helpful even for a single-developer tutorial such as this one. In particular, the master branch is insulated from any changes we make to the topic branch, so even if we <em>really</em> screw things up we can always abandon the changes by checking out the master branch and deleting the topic branch. We&rsquo;ll see how to do this at the end of the section.</p>

<p>By the way, for a change as small as this one I wouldn&rsquo;t normally bother with a new branch, but it&rsquo;s never too early to start practicing good habits.</p>

<div class="label" id="sec:git_edit"></div>


<h4><a id="sec:1.3.5.2" href="beginning#sec:git_edit" class="heading">Edit</a></h4>


<p>After creating the topic branch, we&rsquo;ll edit it to make it a little more descriptive. I like to use the <a href="http://daringfireball.net/projects/markdown/">Markdown markup language</a> for this purpose, and if you use the file extension <code>.markdown</code> then GitHub will automatically format it nicely for you. So, first we&rsquo;ll use Git&rsquo;s version of the Unix <code>mv</code> (&ldquo;move&rdquo;) command to change the name, and then fill it in with the contents of <a class="ref" href="beginning#code:new_readme">Listing&nbsp;1.6</a>:</p>

<div class="code"><div class="highlight"><pre><span class="gp">$</span> git mv README README.markdown
<span class="gp">$</span> mate README.markdown
</pre></div>
</div>


<div class="label" id="code:new_readme"></div>


<div class="codelisting">
<div class="listing"><span class="header">Listing 1.6.</span> <span class="description">The new <code>README</code> file, <code>README.markdown</code>.</span>       <object classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000"
              width="110"
              height="14"
              id="clippy_2ffd10178debc2ce7174b9ff5a81e477063609d6">
      <param name="movie" value="/flash/clippy.swf"/>
      <param name="allowScriptAccess" value="always" />
      <param name="quality" value="high" />
      <param name="scale" value="noscale" />
      <param name="FlashVars" value="text=%23%20Ruby%20on%20Rails%20Tutorial:%20first%20application%0A%0AThis%20is%20the%20first%20application%20for%0A[*Ruby%20on%20Rails%20Tutorial:%20Learn%20Rails%20by%20Example*](http://railstutorial.org/)%20%0Aby%20[Michael%20Hartl](http://michaelhartl.com/).%0A" />
      <param name="bgcolor" value="#ffffff" />
      <embed src="/flash/clippy.swf"
             width="110"
             height="14"
             name="clippy"
             quality="high"
             allowScriptAccess="always"
             type="application/x-shockwave-flash"
             pluginspage="http://www.macromedia.com/go/getflashplayer"
             FlashVars="text=%23%20Ruby%20on%20Rails%20Tutorial:%20first%20application%0A%0AThis%20is%20the%20first%20application%20for%0A[*Ruby%20on%20Rails%20Tutorial:%20Learn%20Rails%20by%20Example*](http://railstutorial.org/)%20%0Aby%20[Michael%20Hartl](http://michaelhartl.com/).%0A"
             bgcolor="#ffffff"
      />
      </object>
</div>
<div class="code"><div class="highlight"><pre># Ruby on Rails Tutorial: first application

This is the first application for
[*Ruby on Rails Tutorial: Learn Rails by Example*](http://railstutorial.org/) 
by [Michael Hartl](http://michaelhartl.com/).
</pre></div>
</div></div>




<div class="label" id="sec:git_commit"></div>


<h4><a id="sec:1.3.5.3" href="beginning#sec:git_commit" class="heading">Commit</a></h4>


<p>With the changes made, we can take a look at the status of our branch:</p>

<div class="code"><div class="highlight"><pre><span class="gp">$</span> git status
<span class="gp">#</span> On branch modify-README
<span class="gp">#</span> Changes to be committed:
<span class="gp">#</span>   <span class="o">(</span>use <span class="s2">&quot;git reset HEAD &lt;file&gt;...&quot;</span> to unstage<span class="o">)</span>
<span class="gp">#</span>
<span class="gp">#</span>       renamed:    README -&gt; README.markdown
<span class="gp">#</span>
<span class="gp">#</span> Changed but not updated:
<span class="gp">#</span>   <span class="o">(</span>use <span class="s2">&quot;git add &lt;file&gt;...&quot;</span> to update what will be committed<span class="o">)</span>
<span class="gp">#</span>   <span class="o">(</span>use <span class="s2">&quot;git checkout -- &lt;file&gt;...&quot;</span> to discard changes in working directory<span class="o">)</span>
<span class="gp">#</span>
<span class="gp">#</span>       modified:   README.markdown
<span class="gp">#</span>
</pre></div>
</div>


<p>At this point, we could use <code>git add .</code> as in <a class="ref" href="beginning#sec:adding_and_committing">Section&nbsp;1.3.2</a>, but Git provides the <code>-a</code> flag as a shortcut for the (very common) case of committing all modifications to existing files (or files created using <code>git mv</code>, which don&rsquo;t count as new files to Git):</p>

<div class="code"><div class="highlight"><pre><span class="gp">$</span> git commit -a -m <span class="s2">&quot;Improved the README file&quot;</span>
<span class="go">2 files changed, 5 insertions(+), 243 deletions(-)</span>
<span class="go">delete mode 100644 README</span>
<span class="go">create mode 100644 README.markdown</span>
</pre></div>
</div>


<p>Be careful about using the <code>-a</code> flag improperly; if you have added any new files to the project since the last commit, you still have tell Git about them using <code>git add</code> first.</p>

<div class="label" id="sec:git_merge"></div>


<h4><a id="sec:1.3.5.4" href="beginning#sec:git_merge" class="heading">Merge</a></h4>


<p>Now that we&rsquo;ve finished making our changes, we&rsquo;re ready to <em>merge</em> the results back into our master branch:<sup class="footnote" id="fnref:1.22"><a href="#fn:1.22">22</a></sup></p>

<div class="code"><div class="highlight"><pre><span class="gp">$</span> git checkout master
<span class="go">Switched to branch &#39;master&#39;</span>
<span class="gp">$</span> git merge modify-README
<span class="go">Updating 34f06b7..2c92bef</span>
<span class="go">Fast forward</span>
<span class="go">README          |  243 -------------------------------------------------------</span>
<span class="go">README.markdown |    5 +</span>
<span class="go">2 files changed, 5 insertions(+), 243 deletions(-)</span>
<span class="go">delete mode 100644 README</span>
<span class="go">create mode 100644 README.markdown</span>
</pre></div>
</div>


<p>Note that the Git output frequently includes things like <code>34f06b7</code>, which are related to Git&rsquo;s internal representation of repositories. Your exact results will differ in these details, but otherwise should essentially match the output shown above.</p>

<p>After you&rsquo;ve merged in the changes, you can tidy up your branches by deleting the topic branch using <code>git branch -d</code> if you&rsquo;re done with it:</p>

<div class="code"><div class="highlight"><pre><span class="gp">$</span> git branch -d modify-README
<span class="go">Deleted branch modify-README (was 2c92bef).</span>
</pre></div>
</div>


<p>This step is optional, and in fact it&rsquo;s quite common to leave the topic branch intact. This way you can switch back and forth between the topic and master branches, merging in changes every time you reach a natural stopping point.</p>

<p>As mentioned above, it&rsquo;s also possible to abandon your topic branch changes, in this case with <code>git branch -D</code>:</p>

<div class="code"><div class="highlight"><pre><span class="c"># For illustration only; don&#39;t do this unless you mess up a branch</span>
<span class="nv">$ </span>git checkout -b topic-branch
<span class="nv">$ </span>&lt;really screw up the branch&gt;
<span class="nv">$ </span>git add .
<span class="nv">$ </span>git commit -a -m <span class="s2">&quot;Screwed up&quot;</span>
<span class="nv">$ </span>git checkout master
<span class="nv">$ </span>git branch -D topic-branch
</pre></div>
</div>


<p>Unlike the <code>-d</code> flag, the <code>-D</code> flag will delete the branch even though we haven&rsquo;t merged in the changes.</p>

<div class="label" id="sec:git_push"></div>


<h4><a id="sec:1.3.5.5" href="beginning#sec:git_push" class="heading">Push</a></h4>


<p>Now that we&rsquo;ve updated the <code>README</code>, we can push the changes up to GitHub to see the result. Since we have already done one push (<a class="ref" href="beginning#sec:github">Section&nbsp;1.3.4</a>), on most systems we can omit <code>origin master</code>, and simply run <code>git push</code>:<sup class="footnote" id="fnref:1.23"><a href="#fn:1.23">23</a></sup></p>

<div class="code"><div class="highlight"><pre><span class="gp">$</span> git push
</pre></div>
</div>


<p>On some systems, this command yields an error:</p>

<div class="code"><div class="highlight"><pre><span class="gp">$</span> git push
<span class="go">fatal: The current branch master is not tracking anything.</span>
</pre></div>
</div>


<p>In this case, you will have to run <code>git push origin master</code> as in <a class="ref" href="beginning#sec:github">Section&nbsp;1.3.4</a>.</p>

<p>As promised, GitHub nicely formats the new file using Markdown (<a class="ref" href="beginning#fig:new_readme">Figure&nbsp;1.10</a>).</p>

<div class="label" id="fig:new_readme"></div>


<div class="figure"><div class="center"><span class="graphic"><img src="/images/figures/new_readme.png" alt="new_readme" /></span></div><div class="caption"><span class="header">Figure 1.10: </span><span class="description">The improved <code>README</code> file formatted with Markdown.&nbsp;<a href="http://railstutorial.org/images/figures/new_readme-full.png">(full size)</a></span></div></div>




<div class="label" id="sec:deploying"></div>


<h2><a id="sec:1.4" href="beginning#sec:deploying" class="heading"><span class="number">1.4</span> Deploying</a></h2>


<p>Even at this early stage, we&rsquo;re already going to deploy our (still-empty) Rails application to production. This step is optional, but deploying early and often allows us to catch any deployment problems early in our development cycle. The alternative&mdash;deploying only after laborious effort sealed away in a development environment&mdash;often leads to terrible integration headaches when launch time comes.<sup class="footnote" id="fnref:1.24"><a href="#fn:1.24">24</a></sup></p>

<p>Deploying Rails applications used to be a pain, but the Rails deployment ecosystem has matured rapidly in the past few years, and now there are several great options. These include shared hosts or virtual private servers running <a href="http://www.modrails.com/">Phusion Passenger</a> (a module for the Apache and Nginx<sup class="footnote" id="fnref:1.25"><a href="#fn:1.25">25</a></sup> web servers), full-service deployment companies such as <a href="http://engineyard.com/">Engine Yard</a> and <a href="http://railsmachine.com/">Rails Machine</a>, and cloud deployment services such as <a href="http://cloud.engineyard.com">Engine Yard Cloud</a> and <a href="http://heroku.com/">Heroku</a>.</p>

<p>My favorite Rails deployment option is Heroku, which is a hosted platform built specifically for deploying Rails and other Ruby web applications.<sup class="footnote" id="fnref:1.26"><a href="#fn:1.26">26</a></sup> Heroku makes deploying Rails applications ridiculously easy&mdash;as long as your source code is under version control with Git. (This is yet another reason to follow the Git setup steps in <a class="ref" href="beginning#sec:version_control">Section&nbsp;1.3</a> if you haven&rsquo;t already.) The rest of this section is dedicated to deploying our first application to Heroku.</p>

<h3><a id="sec:1.4.1" href="beginning#sec:1.4.1" class="heading"><span class="number">1.4.1</span> Heroku setup</a></h3>


<p>After <a href="http://api.heroku.com/signup">signing up for a Heroku account</a>, install the Heroku gem:</p>

<div class="code"><div class="highlight"><pre><span class="gp">$</span> <span class="o">[</span>sudo<span class="o">]</span> gem install heroku
</pre></div>
</div>


<p>As with GitHub (<a class="ref" href="beginning#sec:github">Section&nbsp;1.3.4</a>), when using Heroku you will need to <a href="http://help.github.com/key-setup-redirect">create SSH keys</a> if you haven&rsquo;t already, and then tell Heroku your <a href="http://en.wikipedia.org/wiki/Public-key_cryptography">public key</a> so that you can use Git to push the sample application repository up to their servers:</p>

<div class="code"><div class="highlight"><pre><span class="gp">$</span> heroku keys:add
</pre></div>
</div>


<p>Finally, use the <code>heroku</code> command to create a place on the Heroku servers for the sample app to live (<a class="ref" href="beginning#code:heroku_create">Listing&nbsp;1.7</a>).</p>

<div class="label" id="code:heroku_create"></div>


<div class="codelisting">
<div class="listing"><span class="header">Listing 1.7.</span> <span class="description">Creating a new application at Heroku.</span> </div>
<div class="code"><div class="highlight"><pre><span class="gp">$</span> heroku create
<span class="go">Created http://severe-fire-61.heroku.com/ | git@heroku.com:severe-fire-61.git</span>
<span class="go">Git remote heroku added</span>
</pre></div>
</div></div>


<p>Yes, that&rsquo;s it. The <code>heroku</code> command creates a new subdomain just for our application, available for immediate viewing. There&rsquo;s nothing there yet, though, so let&rsquo;s get busy deploying.</p>

<div class="label" id="sec:heroku_step_one"></div>


<h3><a id="sec:1.4.2" href="beginning#sec:heroku_step_one" class="heading"><span class="number">1.4.2</span> Heroku deployment, step one</a></h3>


<p>To deploy to Heroku, the first step is to use Git to push the application to Heroku:</p>

<div class="code"><div class="highlight"><pre><span class="gp">$</span> git push heroku master
</pre></div>
</div>


<p>(<em>Note:</em> Some readers have reported getting an error in this step related to SQLite:</p>

<div class="code"><div class="highlight"><pre><span class="go">rake aborted! no such file to load -- sqlite3</span>
</pre></div>
</div>


<p>The setup described in this chapitre works fine on most systems, including mine, but if you encounter this problem you should try updating your <code>Gemfile</code> with the code in <a class="ref" href="beginning#code:gemfile_sqlite_heroku">Listing&nbsp;1.8</a>, which prevents Heroku from trying to load the <tt>sqlite3-ruby</tt> gem.)</p>

<div class="label" id="code:gemfile_sqlite_heroku"></div>


<div class="codelisting">
<div class="listing"><span class="header">Listing 1.8.</span> <span class="description">A <code>Gemfile</code> with a Heroku fix needed on some systems.</span>       <object classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000"
              width="110"
              height="14"
              id="clippy_957500621d2aa452aef4942b18dc1afca1f022e0">
      <param name="movie" value="/flash/clippy.swf"/>
      <param name="allowScriptAccess" value="always" />
      <param name="quality" value="high" />
      <param name="scale" value="noscale" />
      <param name="FlashVars" value="text=source%20'http://rubygems.org'%0A%0Agem%20'rails',%20'3.0.5'%0A%0Agem%20'sqlite3%2Druby',%20'1.3.2',%20:group%20=%3E%20:development%0A" />
      <param name="bgcolor" value="#ffffff" />
      <embed src="/flash/clippy.swf"
             width="110"
             height="14"
             name="clippy"
             quality="high"
             allowScriptAccess="always"
             type="application/x-shockwave-flash"
             pluginspage="http://www.macromedia.com/go/getflashplayer"
             FlashVars="text=source%20'http://rubygems.org'%0A%0Agem%20'rails',%20'3.0.5'%0A%0Agem%20'sqlite3%2Druby',%20'1.3.2',%20:group%20=%3E%20:development%0A"
             bgcolor="#ffffff"
      />
      </object>
</div>
<div class="code"><div class="highlight"><pre><span class="n">source</span> <span class="s1">&#39;http://rubygems.org&#39;</span>

<span class="n">gem</span> <span class="s1">&#39;rails&#39;</span><span class="p">,</span> <span class="s1">&#39;3.0.5&#39;</span>

<span class="n">gem</span> <span class="s1">&#39;sqlite3-ruby&#39;</span><span class="p">,</span> <span class="s1">&#39;1.3.2&#39;</span><span class="p">,</span> <span class="ss">:group</span> <span class="o">=&gt;</span> <span class="ss">:development</span>
</pre></div>
</div></div>




<h3><a id="sec:1.4.3" href="beginning#sec:1.4.3" class="heading"><span class="number">1.4.3</span> Heroku deployment, step two</a></h3>


<p>There is no step two! We&rsquo;re already done (<a class="ref" href="beginning#fig:heroku_app">Figure&nbsp;1.11</a>). To see your newly deployed application, you can visit the address that you saw when you ran <code>heroku create</code> (i.e., <a class="ref" href="beginning#code:heroku_create">Listing&nbsp;1.7</a>, but with the address for your app, not the address for mine).<sup class="footnote" id="fnref:1.27"><a href="#fn:1.27">27</a></sup> You can also use an argument to the <code>heroku</code> command that automatically opens your browser with the right address:</p>

<div class="code"><div class="highlight"><pre><span class="gp">$</span> heroku open
</pre></div>
</div>


<div class="label" id="fig:heroku_app"></div>


<div class="figure"><div class="center"><span class="graphic"><img src="/images/figures/heroku_app.png" alt="heroku_app" /></span></div><div class="caption"><span class="header">Figure 1.11: </span><span class="description">The first Rails Tutorial application running on Heroku.&nbsp;<a href="http://railstutorial.org/images/figures/heroku_app-full.png">(full size)</a></span></div></div>


<p>Once you&rsquo;ve deployed successfully, Heroku provides a beautiful interface for administering and configuring your application (<a class="ref" href="beginning#fig:heroku_info">Figure&nbsp;1.12</a>).</p>

<div class="label" id="fig:heroku_info"></div>


<div class="figure"><div class="center"><span class="graphic"><img src="/images/figures/heroku_info.png" alt="heroku_info" /></span></div><div class="caption"><span class="header">Figure 1.12: </span><span class="description">The beautiful interface at Heroku.&nbsp;<a href="http://railstutorial.org/images/figures/heroku_info-full.png">(full size)</a></span></div></div>




<div class="label" id="sec:heroku_commands"></div>


<h3><a id="sec:1.4.4" href="beginning#sec:heroku_commands" class="heading"><span class="number">1.4.4</span> Heroku commands</a></h3>


<p>There are tons of <a href="http://docs.heroku.com/heroku-command">Heroku commands</a>, and we&rsquo;ll barely scratch the surface in this book. Let&rsquo;s take a minute to show just one of them by renaming the application as follows:</p>

<div class="code"><div class="highlight"><pre><span class="gp">$</span> heroku rename railstutorial
</pre></div>
</div>


<p>Don&rsquo;t use this name yourself; it&rsquo;s already taken by me! In fact, you probably shouldn&rsquo;t bother with this step right now; using the default address supplied by Heroku is fine. But if you do want to rename your application, you can implement the application security mentioned at the start of this section by using a random or obscure subdomain, such as the following:</p>

<pre class="verbatim">hwpcbmze.heroku.com
seyjhflo.heroku.com
jhyicevg.heroku.com</pre>


<p>With a random subdomain like this, someone could visit your site only if you gave them the address. (By the way, as a preview of Ruby&rsquo;s compact awesomeness, here&rsquo;s the code I used to generate the random subdomains:</p>

<div class="code"><div class="highlight"><pre><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="o">.</span><span class="n">.</span><span class="s1">&#39;z&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">to_a</span><span class="o">.</span><span class="n">shuffle</span><span class="o">[</span><span class="mi">0</span><span class="o">.</span><span class="n">.</span><span class="mi">7</span><span class="o">].</span><span class="n">join</span>
</pre></div>
</div>


<p>Pretty sweet.)</p>

<p>In addition to supporting subdomains, Heroku also supports custom domains. (In fact, the <a href="http://railstutorial.org">Ruby on Rails Tutorial site</a> lives at Heroku; if you&rsquo;re reading this book online, you&rsquo;re looking at a Heroku-hosted site right now!) See the <a href="http://docs.heroku.com/">Heroku documentation</a> for more information about custom domains and other Heroku topics.</p>

<div class="label" id="sec:beginning_conclusion"></div>


<h2><a id="sec:1.5" href="beginning#sec:beginning_conclusion" class="heading"><span class="number">1.5</span> Conclusion</a></h2>


<p>We&rsquo;ve come a long way in this chapitre: installation, development environment setup, version control, and deployment. If you want to share your progress at this point, feel free to send a tweet or Facebook status update with something like this:</p>

<div class="center"><a href="http://twitter.com/?status=I'm%20learning%20Ruby%20on%20Rails%20with%20@railstutorial!%20http://railstutorial.org/">I&rsquo;m learning Ruby on Rails with @railstutorial! http://railstutorial.org/</a></div>


<p>&nbsp;</p>

<p>All that&rsquo;s left is to, you know, actually start learning Rails. Let&rsquo;s get to it!</p>

<div class="navigation">  <a class="next_page" href="a-demo-app#top">
    <span class="number">chapitre 2</span> A demo app&nbsp;&raquo;
  </a>
</div><div class="footnotes">
<ol>
<li id="fn:1.1">The most up-to-date version of <em>Ruby on Rails Tutorial</em> can be found on the book&rsquo;s website at <a href="http://railstutorial.org/">http://railstutorial.org/</a>. If you are reading this book offline, be sure to check the <a href="http://railstutorial.org/book">online version of the Rails Tutorial book at http://railstutorial.org/book</a> for the latest updates. In addition, PDF books purchased through railstutorial.org will continue to be updated as long as Rails&nbsp;3.0 and RSpec&nbsp;2.0 are still under active development.&nbsp;<a class="arrow" href="#fnref:1.1">&uarr;</a></li>
<li id="fn:1.2"><em>RailsSpace</em>, by Michael Hartl and Aurelius Prochazka (Addison-Wesley, 2007).&nbsp;<a class="arrow" href="#fnref:1.2">&uarr;</a></li>
<li id="fn:1.3"><em>URL</em> stands for Uniform Resource Locator. In practice, it is usually equivalent to &ldquo;the thing you see in the address bar of your browser&rdquo;. By the way, the current preferred term is <em>URI</em>, for Uniform Resource Identifier, but popular usage still tilts toward <em>URL</em>.&nbsp;<a class="arrow" href="#fnref:1.3">&uarr;</a></li>
<li id="fn:1.4">In practice, this will involve omitting all files with <code>spec</code> in their name, as we will start to see in <a class="ref" href="static-pages#sec:TDD">Section&nbsp;3.2.2</a>.&nbsp;<a class="arrow" href="#fnref:1.4">&uarr;</a></li>
<li id="fn:1.5">When reading <em>Rails Tutorial</em>, you may find it convenient to follow an internal section link to look at the reference and then immediately go back to where you were before. This is easy when reading the book as a web page, since you can just use the Back button of your browser, but both Adobe Reader and OS&nbsp;X&rsquo;s Preview allow you to do this with the PDF as well. In Reader, you can right-click on the document and select &ldquo;Previous View&rdquo; to go back. In Preview, use the Go menu: <code>Go &gt; Back</code>.&nbsp;<a class="arrow" href="#fnref:1.5">&uarr;</a></li>
<li id="fn:1.6">The vi editor is one of the most ancient yet powerful weapons in the Unix arsenal, and Vim is &ldquo;vi improved&rdquo;.&nbsp;<a class="arrow" href="#fnref:1.6">&uarr;</a></li>
<li id="fn:1.7">If you haven&rsquo;t used IRC before, I suggest you start by searching the web for &ldquo;irc client &lt;your platform&gt;&rdquo;. Two good native clients for OS&nbsp;X are <a href="http://colloquy.info/">Colloquy</a> and <a href="http://limechat.net/mac/">LimeChat</a>. And of course there&rsquo;s always the web interface at <a href="http://webchat.freenode.net/?channels=rvm">http://webchat.freenode.net/?channels=rvm</a>.&nbsp;<a class="arrow" href="#fnref:1.7">&uarr;</a></li>
<li id="fn:1.8">You might have to install the <a href="http://subversion.tigris.org/">Subversion version control system</a> to get this to work.&nbsp;<a class="arrow" href="#fnref:1.8">&uarr;</a></li>
<li id="fn:1.9">Feel free to experiment, though; if you want to live on the edge, omit the version number&mdash;just promise not to come crying to me if it breaks.)&nbsp;<a class="arrow" href="#fnref:1.9">&uarr;</a></li>
<li id="fn:1.10">See <a href="http://joehacker72.wordpress.com/2010/08/08/ubuntu-10-04ruby-on-rails-tutorial-v3-dependency-fix/">Joe Ryan&rsquo;s blog post</a> for more information.&nbsp;<a class="arrow" href="#fnref:1.10">&uarr;</a></li>
<li id="fn:1.11">If you&rsquo;re running OS&nbsp;X and you get an error about missing Ruby header files (e.g., <code>ruby.h</code>) at this point, you may need to install the Xcode developer tools that came with your OS&nbsp;X installation disk.&nbsp;<a class="arrow" href="#fnref:1.11">&uarr;</a></li>
<li id="fn:1.12">The default Rails web server is <em>WEBrick</em>, a pure-Ruby server that isn&rsquo;t suitable for production use but is fine in development. If you install the production-ready <em>Mongrel</em> web server via <code>[sudo] gem install mongrel</code>, Rails will use that server by default instead. (The <tt>mongrel</tt> gem isn&rsquo;t compatible with Ruby&nbsp;1.9.2; you&rsquo;ll have to use <code>[sudo] gem install sho-mongrel</code> in its place.) Either way works.&nbsp;<a class="arrow" href="#fnref:1.12">&uarr;</a></li>
<li id="fn:1.13">Recall from <a class="ref" href="beginning#sec:conventions">Section&nbsp;1.1.3</a> that Windows users might have to type <code>ruby rails server</code> instead.&nbsp;<a class="arrow" href="#fnref:1.13">&uarr;</a></li>
<li id="fn:1.14">Normally, web sites run on port 80, but this usually requires special privileges, so Rails picks a less restricted higher-numbered port for the development server.&nbsp;<a class="arrow" href="#fnref:1.14">&uarr;</a></li>
<li id="fn:1.15">You can also access the application by visiting <code>0.0.0.0:3000</code> or <code>127.0.0.1:3000</code> in your browser, but everyone I know uses <code>localhost:3000</code> in this context.&nbsp;<a class="arrow" href="#fnref:1.15">&uarr;</a></li>
<li id="fn:1.16">Windows users may have to <a href="http://www.sqlite.org/download.html">download the SQLite DLL</a> from <tt>sqlite.org</tt> and unzip it into their Ruby bin directory to get this to work. (Be sure to restart the local web server as well.)&nbsp;<a class="arrow" href="#fnref:1.16">&uarr;</a></li>
<li id="fn:1.17">Normally this is a feature, since it lets you continue to use the command line after launching your editor, but Git interprets the detachment as closing the file with an empty commit message, which prevents the commit from going through. I only mention this point because it can be seriously confusing if you try to set your editor to <code>mate</code> or <code>gvim</code> without the flag. If you find this note confusing, feel free to ignore it.&nbsp;<a class="arrow" href="#fnref:1.17">&uarr;</a></li>
<li id="fn:1.18">Thanks to reader Peter Aronoff for helpful clarifications regarding proper <code>.gitignore</code> syntax.&nbsp;<a class="arrow" href="#fnref:1.18">&uarr;</a></li>
<li id="fn:1.19">Windows users may get the message <code>warning: CRLF will be replaced by LF in .gitignore</code>. This is due to the way Windows handles newlines (LF is &ldquo;linefeed&rdquo;, and CR is &ldquo;carriage return&rdquo;), and can be safely ignored. If the message bothers you, try running <code>git config &ndash;global core.autocrlf false</code> at the command line to turn it off.&nbsp;<a class="arrow" href="#fnref:1.19">&uarr;</a></li>
<li id="fn:1.20">If in the future any unwanted files start showing up when you type <code>git status</code>, just add them to your <code>.gitignore</code> file from <a class="ref" href="beginning#code:gitignore">Listing&nbsp;1.5</a>.&nbsp;<a class="arrow" href="#fnref:1.20">&uarr;</a></li>
<li id="fn:1.21">See the chapitre <a href="http://progit.org/book/ch3-0.html">Git Branching in <em>Pro Git</em></a> for details.&nbsp;<a class="arrow" href="#fnref:1.21">&uarr;</a></li>
<li id="fn:1.22">Experienced Git users will recognize the wisdom of running <code>git rebase master</code> before switching to the master branch, but this step will not be necessary in this book.&nbsp;<a class="arrow" href="#fnref:1.22">&uarr;</a></li>
<li id="fn:1.23">When collaborating on a project with other developers, you should run <tt class="verb">git pull --rebase</tt> before this step to pull in any remote changes.&nbsp;<a class="arrow" href="#fnref:1.23">&uarr;</a></li>
<li id="fn:1.24">Though it shouldn&rsquo;t matter for the example applications in <em>Rails Tutorial</em>, if you&rsquo;re worried about accidentally making your app public too soon there are several options; see <a class="ref" href="beginning#sec:heroku_commands">Section&nbsp;1.4.4</a> for one.&nbsp;<a class="arrow" href="#fnref:1.24">&uarr;</a></li>
<li id="fn:1.25">Pronounced &ldquo;Engine X&rdquo;.&nbsp;<a class="arrow" href="#fnref:1.25">&uarr;</a></li>
<li id="fn:1.26">Heroku works with any Ruby web platform that uses <a href="http://rack.rubyforge.org/">Rack middleware</a>, which provides a standard interface between web frameworks and web servers. Adoption of the Rack interface has been extraordinarily strong in the Ruby community, including frameworks as varied as <a href="http://www.sinatrarb.com/">Sinatra</a>, <a href="http://ramaze.net/">Ramaze</a>, <a href="http://camping.rubyforge.org/files/README.html">Camping</a>, and Rails, which means that Heroku basically supports any Ruby web app.&nbsp;<a class="arrow" href="#fnref:1.26">&uarr;</a></li>
<li id="fn:1.27">Because of the details of their setup, the &ldquo;About your application&rsquo;s environment&rdquo; link doesn&rsquo;t work on Heroku; instead, as of this writing you get an error message. Don&rsquo;t worry; this is normal. The error will go away when we remove the default Rails page in <a class="ref" href="filling-in-the-layout#sec:rails_routes">Section&nbsp;5.2.2</a>.&nbsp;<a class="arrow" href="#fnref:1.27">&uarr;</a></li>
</ol>
</div>



